<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>2017Spring 協同產品設計實習 (虎尾科大MDE)</title><link href="./" rel="alternate"></link><link href="./feeds/all.atom.xml" rel="self"></link><id>./</id><updated>2017-03-16T15:00:00+08:00</updated><entry><title>Hyperworks 與 2D 繪圖-W4</title><link href="./Fossil.html" rel="alternate"></link><published>2017-03-16T15:00:00+08:00</published><updated>2017-03-16T15:00:00+08:00</updated><author><name>40423104-YanSyuan</name></author><id>tag:,2017-03-16:./Fossil.html</id><summary type="html">&lt;h4&gt;網際平面四連桿機構動態模擬&lt;/h4&gt;
&lt;h4&gt;單連桿繪製與導入V-rep&lt;/h4&gt;
&lt;h4&gt;Hyperworks&lt;/h4&gt;


&lt;h3&gt;網際平面四連桿機構動態模擬&lt;/h3&gt;
&lt;h4&gt;四連桿平面機構&lt;/h4&gt;
&lt;p&gt;&lt;!-- 以下執行 Brython 程式 --&gt;
&lt;canvas id="plotarea2" width="600" height="600"&gt;&lt;/canvas&gt;
&lt;script type="text/python"&gt;
from browser import window&lt;/p&gt;
&lt;p&gt;cango = window.Cango2D.new
shapedefs = window.shapeDefs
obj2d = window.Obj2D.new
group2d = window.Group2D.new
cgo = cango("plotarea2")&lt;/p&gt;
&lt;p&gt;x1, y1 = 40, 20
cx1, cy1 = 90, 120
x2, y2 = 120, 100
cx2, cy2 = 130, 20
cx3, cy3 = 150, 120
x3, y3 = 180, 60&lt;/p&gt;
&lt;p&gt;def dragC1(mousePos):
    global cx1, cy1
    cx1 = mousePos.x
    cy1 = mousePos.y
    drawCurve()&lt;/p&gt;
&lt;p&gt;def dragC2(mousePos):
    global cx2, cy2
    cx2 = mousePos.x
    cy2 = mousePos.y
    drawCurve()&lt;/p&gt;
&lt;p&gt;def dragC3(mousePos):
    global cx3, cy3
    cx3 = mousePos.x
    cy3 = mousePos.y
    drawCurve()&lt;/p&gt;
&lt;p&gt;def dragX1(mousePos):
    global x1, y1
    x1 = mousePos.x
    y1 = mousePos.y
    drawCurve()&lt;/p&gt;
&lt;p&gt;def drawCurve():
    # curve change shape so it must be re-draw each time
    # draw a quadratic bezier from x1,y2 to x2,y2
    qbez = obj2d(['M', x1, y1, 'Q', cx1, cy1, x2, y2], "PATH",  {
          "strokeColor":'blue'})
    cbez = obj2d(['M', x2, y2, 'C', cx2, cy2, cx3, cy3, x3, y3], "PATH",  {
          "strokeColor":'green'})
    # show lines to control point
    '''
    L1 = obj2d(['M', x1, y1, 'L', cx1, cy1, x2, y2], "PATH", {
      "strokeColor":"rgba(0, 0, 0, 0.2)",
      "dashed":[4]})  # semi-transparent gray
    L2 = obj2d(['M', x2, y2, 'L', cx2, cy2], "PATH", {
      "strokeColor":"rgba(0, 0, 0, 0.2)",
      "dashed":[4]})
    L3 = obj2d(['M', x3, y3, 'L', cx3, cy3], "PATH", {
      "strokeColor":"rgba(0, 0, 0, 0.2)",
      "dashed":[4]})
    '''
    L1 = obj2d(['M', x1, y1, 'L', cx1, cy1], "PATH", {
      "strokeColor":"rgba(0, 0, 0, 0.2)",
      "solided":[10]})  # semi-transparent gray
    L2 = obj2d(['M', cx1, cy1, 'L', cx2, cy2], "PATH", {
      "strokeColor":"rgba(0, 0, 0, 0.2)",
      "solided":[10]})
    L3 = obj2d(['M', cx2, cy2, 'L', cx3, cy3], "PATH", {
      "strokeColor":"rgba(0, 0, 0, 0.2)",
      "solided":[10]})
    #c1.transform.reset()
    c1.transform.translate(cx1, cy1)
    #c2.transform.reset()
    c2.transform.translate(cx2, cy2)
    #c3.transform.reset()
    c3.transform.translate(cx3, cy3)
    #mx1.transform.reset()
    mx1.transform.translate(x1, y1)
    #grp = group2d(qbez, cbez, L1, L2, L3, c1, c2, c3)
    grp = group2d(L1, L2, L3, c1, c2, c3, mx1)
    cgo.clearCanvas()
    cgo.render(grp)&lt;/p&gt;
&lt;p&gt;cgo.clearCanvas("lightyellow")
cgo.setWorldCoords(0, 0, 200)&lt;/p&gt;
&lt;h1&gt;draggable control points&lt;/h1&gt;
&lt;p&gt;c1 = obj2d(shapedefs.circle(4), "SHAPE", {"fillColor":'red'})
c1.enableDrag(None, dragC1, None)
c2 = c1.dup()
c2.enableDrag(None, dragC2, None)
c3 = c1.dup()
c3.enableDrag(None, dragC3, None)
mx1 = c1.dup()
mx1.enableDrag(None, dragX1, None)
drawCurve();
&lt;/script&gt;&lt;/p&gt;
&lt;h4&gt;四連桿動態模擬&lt;/h4&gt;
&lt;p&gt;&lt;canvas id='robot' width='800' height='400'&gt;&lt;/canvas&gt;
&lt;script type="text/python"&gt;
from browser import window&lt;/p&gt;
&lt;p&gt;cango2d = window.Cango2D.new
shapedefs = window.shapeDefs
obj2d = window.Obj2D.new
tweener = window.Tweener.new&lt;/p&gt;
&lt;p&gt;cgo = cango2d("robot")&lt;/p&gt;
&lt;h1&gt;清除畫面&lt;/h1&gt;
&lt;p&gt;cgo.clearCanvas("lightyellow")
cgo.setWorldCoords(-50, -50, 300)&lt;/p&gt;
&lt;h1&gt;加上基軸與第一桿&lt;/h1&gt;
&lt;h1&gt;畫筆移到 -20, -10, 畫直線到 -10,-10 以及 -10,0&lt;/h1&gt;
&lt;p&gt;standData = ['M', -20,-10, 'L', -10,-10, -10,0, 'A', 10,10,0,0,0,10,0, 'L',10,-10, 20,-10, 20,-40, -20,-40,'z']
stand = obj2d(standData, "SHAPE", {
        "fillColor":'darkgray',
        "border": True,
        "strokeColor": "#222222" })
axle0 = obj2d(shapedefs.circle(10), "SHAPE", {
        "fillColor":'gray',
        "border": True,
        "strokeColor": "#222222" })
armGrp = cgo.createGroup2D(stand, axle0)&lt;/p&gt;
&lt;p&gt;segData = ['M',0,-8, 'A',8,8,0,0,0,0,8, 'L',50,8, 'A',8,8,0,0,0,50,-8, 'Z']
seg1 = obj2d(segData, "SHAPE", {
        "fillColor":'darkGray',
        "border": True,
        "strokeColor": "#222222",
        "zIndex": -1 })&lt;/p&gt;
&lt;h1&gt;利用 zIndex 決定疊層的先後次序&lt;/h1&gt;
&lt;p&gt;axle1 = obj2d(shapedefs.circle(8), "SHAPE", {
        "fillColor":'gray',
        "border": True,
        "strokeColor": "#222222",
        "zIndex": 1 })
axle1.translate(50, 0)
seg1Grp = cgo.createGroup2D(seg1, axle1)
armGrp.addObj(seg1Grp)&lt;/p&gt;
&lt;h1&gt;加上第二軸&lt;/h1&gt;
&lt;p&gt;seg2 = obj2d(segData, "SHAPE", {
        "fillColor":'darkGray',
        "border": True,
        "strokeColor": "#222222",
        "zIndex": -1 })
axle2 = obj2d(shapedefs.circle(8), "SHAPE", {
        "fillColor":'gray',
        "border": True,
        "strokeColor": "#222222",
        "zIndex": 1 })
axle2.translate(50, 0)
seg2Grp = cgo.createGroup2D(seg2, axle2)
cgo.render(seg2Grp)&lt;/p&gt;
&lt;h1&gt;請注意 seg2Grp 加上 seg1Grp 物件上&lt;/h1&gt;
&lt;p&gt;seg1Grp.addObj(seg2Grp)&lt;/p&gt;
&lt;p&gt;seg3 = obj2d(segData, "SHAPE", {
        'fillColor':'darkGray',
        'border': True,
        'strokeColor': "#222222",
        'zIndex': -1 })
axle3 = obj2d(shapedefs.circle(6), "SHAPE", {
        'fillColor':'gray',
        'border': True,
        'strokeColor': "#222222",
        'zIndex': 1 })
axle3.translate(50, 0)
seg3Grp = cgo.createGroup2D(seg3, axle3)
seg2Grp.addObj(seg3Grp)&lt;/p&gt;
&lt;p&gt;seg4Data = ['M',0,-6, 'A',6,6,0,0,0,0,6, 'L',40,6, 40,12, 50,12, 50,-12, 40,-12, 40,-6, 'Z']
seg4 = obj2d(seg4Data, "SHAPE", {
        'fillColor':'darkGray',
        'border': True,
        'strokeColor': "#222222",
        'zIndex': -1 })
seg3Grp.addObj(seg4)&lt;/p&gt;
&lt;h1&gt;setup animation&lt;/h1&gt;
&lt;p&gt;animData = {'s1': [0, 80, 45, 0],
                  's2': [0, -60, -60, 0],
                  's3': [0, -90, 0, 90, 0],
                  's4': [0, 30, -90, 0]}&lt;/p&gt;
&lt;p&gt;armTwnr = tweener(0, 3500, 'loop')&lt;/p&gt;
&lt;p&gt;def initArm(opts):
    seg2Grp.transform.translate(50,0)
    seg3Grp.transform.translate(50,0)
    seg4.transform.translate(50,0)&lt;/p&gt;
&lt;p&gt;def armPathFn(time, opts):
    seg1Rot = armTwnr.getVal(time, opts.s1)
    seg2Rot = armTwnr.getVal(time, opts.s2)
    seg3Rot = armTwnr.getVal(time, opts.s3)
    seg4Rot = armTwnr.getVal(time, opts.s4)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;seg1Grp.transform.rotate(seg1Rot)
seg2Grp.transform.rotate(seg2Rot)
seg2Grp.transform.translate(50,0)
seg3Grp.transform.rotate(seg3Rot)
seg3Grp.transform.translate(50,0)
seg4.transform.rotate(seg4Rot)
seg4.transform.translate(50,0)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;cgo.animate(armGrp, initArm, armPathFn, animData)
cgo.playAnimation()
&lt;/script&gt;&lt;/p&gt;
&lt;h3&gt;單連桿繪製與導入V-rep&lt;/h3&gt;
&lt;p&gt;&lt;p&gt; 利用Solvespace繪製以下尺寸及組裝連桿&lt;/p&gt;&lt;/p&gt;
&lt;h4&gt;尺寸&lt;/h4&gt;
&lt;p&gt;&lt;a href="http://imgur.com/pQ7GYmG"&gt;&lt;img src="http://i.imgur.com/pQ7GYmG.jpg" title="source: imgur.com" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;長度30連桿&lt;/h4&gt;
&lt;p&gt;&lt;iframe src="https://player.vimeo.com/video/209355096" width="640" height="343" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;a href="https://vimeo.com/209355096"&gt;base&lt;/a&gt; from &lt;a href="https://vimeo.com/user44900188"&gt;Yan syuan&lt;/a&gt; on &lt;a href="https://vimeo.com"&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;&lt;/p&gt;
&lt;h4&gt;長度50連桿&lt;/h4&gt;
&lt;p&gt;&lt;iframe src="https://player.vimeo.com/video/209354247" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;a href="https://vimeo.com/209354247"&gt;link1&lt;/a&gt; from &lt;a href="https://vimeo.com/user44900188"&gt;Yan syuan&lt;/a&gt; on &lt;a href="https://vimeo.com"&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;&lt;/p&gt;
&lt;h4&gt;直徑5的連桿&lt;/h4&gt;
&lt;p&gt;&lt;iframe src="https://player.vimeo.com/video/209355724" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;a href="https://vimeo.com/209355724"&gt;shaft&lt;/a&gt; from &lt;a href="https://vimeo.com/user44900188"&gt;Yan syuan&lt;/a&gt; on &lt;a href="https://vimeo.com"&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;&lt;/p&gt;
&lt;h4&gt;導入V-rep&lt;/h4&gt;
&lt;p&gt;&lt;iframe src="https://player.vimeo.com/video/209373893" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;a href="https://vimeo.com/209373893"&gt;v-rep  0316&lt;/a&gt; from &lt;a href="https://vimeo.com/user44900188"&gt;Yan syuan&lt;/a&gt; on &lt;a href="https://vimeo.com"&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;&lt;/p&gt;
&lt;h4&gt;V-rep模擬&lt;/h4&gt;
&lt;h2&gt;Hyperworks安裝與心得&lt;/h2&gt;
&lt;h3&gt;各組利用網誌與簡報說明安裝或使用 Hyperworks 套件過程與心得 - 課程結束前, 希望能夠使用 Hyperworks 進行連桿機構零件的應力分析與機構運動模擬&lt;/h3&gt;
&lt;h4&gt;Hyperworks安裝&lt;/h4&gt;
&lt;h4&gt;心得&lt;/h4&gt;
&lt;h2&gt;Solidthinking安裝&lt;/h2&gt;
&lt;h2&gt;Feko安裝&lt;/h2&gt;
&lt;h2&gt;Fossil SCM 倉儲(網路)&lt;/h2&gt;</summary><category term="Hyperworks 與 2D 繪圖-W4"></category></entry><entry><title>Hyperworks 與 2D 繪圖-W4</title><link href="./Fossil.html" rel="alternate"></link><published>2017-03-16T15:00:00+08:00</published><updated>2017-03-16T15:00:00+08:00</updated><author><name>40423104-YanSyuan</name></author><id>tag:,2017-03-16:./Fossil.html</id><summary type="html">&lt;h4&gt;網際平面四連桿機構動態模擬&lt;/h4&gt;
&lt;h4&gt;單連桿繪製與導入V-rep&lt;/h4&gt;
&lt;h4&gt;Hyperworks&lt;/h4&gt;


&lt;h3&gt;網際平面四連桿機構動態模擬&lt;/h3&gt;
&lt;h4&gt;四連桿平面機構&lt;/h4&gt;
&lt;!-- 導入 Brython 標準程式庫 3.3.1 --&gt;

&lt;script type="text/javascript" src="./../data/brython_dist.js"&gt;
&lt;/script&gt;

&lt;script type="text/javascript" src="./../data/Cango-8v05-min.js"&gt;&lt;/script&gt;

&lt;script type="text/javascript" src="./../data/Cango2D-7v04-min.js"&gt;&lt;/script&gt;

&lt;script type="text/javascript" src="./../data/CangoAnimation-4v01.js"&gt;&lt;/script&gt;

&lt;!-- 啟動 Brython 時, 設定 pythonpath 為 data/py --&gt;

&lt;script&gt;
window.onload=function(){
brython({debug:1, pythonpath:['./../data/py']});
}
&lt;/script&gt;

&lt;!-- 以下執行 Brython 程式 --&gt;

&lt;canvas id="plotarea" width="600" height="600"&gt;&lt;/canvas&gt;

&lt;script type="text/python"&gt;
from browser import window

cango = window.Cango2D.new
shapedefs = window.shapeDefs
obj2d = window.Obj2D.new
group2d = window.Group2D.new
cgo = cango("plotarea")

x1, y1 = 40, 20
cx1, cy1 = 90, 120
x2, y2 = 120, 100
cx2, cy2 = 130, 20
cx3, cy3 = 150, 120
x3, y3 = 180, 60

def dragC1(mousePos):
    global cx1, cy1
    cx1 = mousePos.x
    cy1 = mousePos.y
    drawCurve()

def dragC2(mousePos):
    global cx2, cy2
    cx2 = mousePos.x
    cy2 = mousePos.y
    drawCurve()

def dragC3(mousePos):
    global cx3, cy3
    cx3 = mousePos.x
    cy3 = mousePos.y
    drawCurve()

def drawCurve():
    # curve change shape so it must be re-draw each time
    # draw a quadratic bezier from x1,y2 to x2,y2
    qbez = obj2d(['M', x1, y1, 'Q', cx1, cy1, x2, y2], "PATH",  {
          "strokeColor":'blue'})
    cbez = obj2d(['M', x2, y2, 'C', cx2, cy2, cx3, cy3, x3, y3], "PATH",  {
          "strokeColor":'green'})
    # show lines to control point
    L1 = obj2d(['M', x1, y1, 'L', cx1, cy1, x2, y2], "PATH", {
      "strokeColor":"rgba(0, 0, 0, 0.2)",
      "dashed":[4]})  # semi-transparent gray
    L2 = obj2d(['M', x2, y2, 'L', cx2, cy2], "PATH", {
      "strokeColor":"rgba(0, 0, 0, 0.2)",
      "dashed":[4]})
    L3 = obj2d(['M', x3, y3, 'L', cx3, cy3], "PATH", {
      "strokeColor":"rgba(0, 0, 0, 0.2)",
      "dashed":[4]})
    #c1.transform.reset()
    c1.transform.translate(cx1, cy1)
    #c2.transform.reset()
    c2.transform.translate(cx2, cy2)
    #c3.transform.reset()
    c3.transform.translate(cx3, cy3)
    grp = group2d(qbez, cbez, L1, L2, L3, c1, c2, c3)
    cgo.clearCanvas()
    cgo.render(grp)

cgo.clearCanvas("lightyellow")
cgo.setWorldCoords(0, 0, 200)

# draggable control points
c1 = obj2d(shapedefs.circle(4), "SHAPE", {"fillColor":'red'})
c1.enableDrag(None, dragC1, None)
c2 = c1.dup()
c2.enableDrag(None, dragC2, None)
c3 = c1.dup()
c3.enableDrag(None, dragC3, None)
drawCurve();
&lt;/script&gt;

&lt;p&gt;平面機構繪圖:&lt;/p&gt;
&lt;!-- 以下執行 Brython 程式 --&gt;

&lt;canvas id="plotarea2" width="600" height="600"&gt;&lt;/canvas&gt;

&lt;script type="text/python"&gt;
from browser import window

cango = window.Cango2D.new
shapedefs = window.shapeDefs
obj2d = window.Obj2D.new
group2d = window.Group2D.new
cgo = cango("plotarea2")

x1, y1 = 40, 20
cx1, cy1 = 90, 120
x2, y2 = 120, 100
cx2, cy2 = 130, 20
cx3, cy3 = 150, 120
x3, y3 = 180, 60

def dragC1(mousePos):
    global cx1, cy1
    cx1 = mousePos.x
    cy1 = mousePos.y
    drawCurve()

def dragC2(mousePos):
    global cx2, cy2
    cx2 = mousePos.x
    cy2 = mousePos.y
    drawCurve()

def dragC3(mousePos):
    global cx3, cy3
    cx3 = mousePos.x
    cy3 = mousePos.y
    drawCurve()

def dragX1(mousePos):
    global x1, y1
    x1 = mousePos.x
    y1 = mousePos.y
    drawCurve()

def drawCurve():
    # curve change shape so it must be re-draw each time
    # draw a quadratic bezier from x1,y2 to x2,y2
    qbez = obj2d(['M', x1, y1, 'Q', cx1, cy1, x2, y2], "PATH",  {
          "strokeColor":'blue'})
    cbez = obj2d(['M', x2, y2, 'C', cx2, cy2, cx3, cy3, x3, y3], "PATH",  {
          "strokeColor":'green'})
    # show lines to control point
    '''
    L1 = obj2d(['M', x1, y1, 'L', cx1, cy1, x2, y2], "PATH", {
      "strokeColor":"rgba(0, 0, 0, 0.2)",
      "dashed":[4]})  # semi-transparent gray
    L2 = obj2d(['M', x2, y2, 'L', cx2, cy2], "PATH", {
      "strokeColor":"rgba(0, 0, 0, 0.2)",
      "dashed":[4]})
    L3 = obj2d(['M', x3, y3, 'L', cx3, cy3], "PATH", {
      "strokeColor":"rgba(0, 0, 0, 0.2)",
      "dashed":[4]})
    '''
    L1 = obj2d(['M', x1, y1, 'L', cx1, cy1], "PATH", {
      "strokeColor":"rgba(0, 0, 0, 0.2)",
      "solided":[10]})  # semi-transparent gray
    L2 = obj2d(['M', cx1, cy1, 'L', cx2, cy2], "PATH", {
      "strokeColor":"rgba(0, 0, 0, 0.2)",
      "solided":[10]})
    L3 = obj2d(['M', cx2, cy2, 'L', cx3, cy3], "PATH", {
      "strokeColor":"rgba(0, 0, 0, 0.2)",
      "solided":[10]})
    #c1.transform.reset()
    c1.transform.translate(cx1, cy1)
    #c2.transform.reset()
    c2.transform.translate(cx2, cy2)
    #c3.transform.reset()
    c3.transform.translate(cx3, cy3)
    #mx1.transform.reset()
    mx1.transform.translate(x1, y1)
    #grp = group2d(qbez, cbez, L1, L2, L3, c1, c2, c3)
    grp = group2d(L1, L2, L3, c1, c2, c3, mx1)
    cgo.clearCanvas()
    cgo.render(grp)

cgo.clearCanvas("lightyellow")
cgo.setWorldCoords(0, 0, 200)

# draggable control points
c1 = obj2d(shapedefs.circle(4), "SHAPE", {"fillColor":'red'})
c1.enableDrag(None, dragC1, None)
c2 = c1.dup()
c2.enableDrag(None, dragC2, None)
c3 = c1.dup()
c3.enableDrag(None, dragC3, None)
mx1 = c1.dup()
mx1.enableDrag(None, dragX1, None)
drawCurve();
&lt;/script&gt;

&lt;p&gt;機械手臂動態模擬:&lt;/p&gt;
&lt;canvas id='robot' width='800' height='400'&gt;&lt;/canvas&gt;

&lt;script type="text/python"&gt;
from browser import window

cango2d = window.Cango2D.new
shapedefs = window.shapeDefs
obj2d = window.Obj2D.new
tweener = window.Tweener.new

cgo = cango2d("robot")
# 清除畫面
cgo.clearCanvas("lightyellow")
cgo.setWorldCoords(-50, -50, 300)

# 加上基軸與第一桿
# 畫筆移到 -20, -10, 畫直線到 -10,-10 以及 -10,0 
standData = ['M', -20,-10, 'L', -10,-10, -10,0, 'A', 10,10,0,0,0,10,0, 'L',10,-10, 20,-10, 20,-40, -20,-40,'z']
stand = obj2d(standData, "SHAPE", {
        "fillColor":'darkgray',
        "border": True,
        "strokeColor": "#222222" })
axle0 = obj2d(shapedefs.circle(10), "SHAPE", {
        "fillColor":'gray',
        "border": True,
        "strokeColor": "#222222" })
armGrp = cgo.createGroup2D(stand, axle0)

segData = ['M',0,-8, 'A',8,8,0,0,0,0,8, 'L',50,8, 'A',8,8,0,0,0,50,-8, 'Z']
seg1 = obj2d(segData, "SHAPE", {
        "fillColor":'darkGray',
        "border": True,
        "strokeColor": "#222222",
        "zIndex": -1 })
# 利用 zIndex 決定疊層的先後次序
axle1 = obj2d(shapedefs.circle(8), "SHAPE", {
        "fillColor":'gray',
        "border": True,
        "strokeColor": "#222222",
        "zIndex": 1 })
axle1.translate(50, 0)
seg1Grp = cgo.createGroup2D(seg1, axle1)
armGrp.addObj(seg1Grp)

# 加上第二軸
seg2 = obj2d(segData, "SHAPE", {
        "fillColor":'darkGray',
        "border": True,
        "strokeColor": "#222222",
        "zIndex": -1 })
axle2 = obj2d(shapedefs.circle(8), "SHAPE", {
        "fillColor":'gray',
        "border": True,
        "strokeColor": "#222222",
        "zIndex": 1 })
axle2.translate(50, 0)
seg2Grp = cgo.createGroup2D(seg2, axle2)
cgo.render(seg2Grp)
# 請注意 seg2Grp 加上 seg1Grp 物件上
seg1Grp.addObj(seg2Grp)

seg3 = obj2d(segData, "SHAPE", {
        'fillColor':'darkGray',
        'border': True,
        'strokeColor': "#222222",
        'zIndex': -1 })
axle3 = obj2d(shapedefs.circle(6), "SHAPE", {
        'fillColor':'gray',
        'border': True,
        'strokeColor': "#222222",
        'zIndex': 1 })
axle3.translate(50, 0)
seg3Grp = cgo.createGroup2D(seg3, axle3)
seg2Grp.addObj(seg3Grp)

seg4Data = ['M',0,-6, 'A',6,6,0,0,0,0,6, 'L',40,6, 40,12, 50,12, 50,-12, 40,-12, 40,-6, 'Z']
seg4 = obj2d(seg4Data, "SHAPE", {
        'fillColor':'darkGray',
        'border': True,
        'strokeColor': "#222222",
        'zIndex': -1 })
seg3Grp.addObj(seg4)

# setup animation
animData = {'s1': [0, 80, 45, 0],
                  's2': [0, -60, -60, 0],
                  's3': [0, -90, 0, 90, 0],
                  's4': [0, 30, -90, 0]}

armTwnr = tweener(0, 3500, 'loop')

def initArm(opts):
    seg2Grp.transform.translate(50,0)
    seg3Grp.transform.translate(50,0)
    seg4.transform.translate(50,0)


def armPathFn(time, opts):
    seg1Rot = armTwnr.getVal(time, opts.s1)
    seg2Rot = armTwnr.getVal(time, opts.s2)
    seg3Rot = armTwnr.getVal(time, opts.s3)
    seg4Rot = armTwnr.getVal(time, opts.s4)

    seg1Grp.transform.rotate(seg1Rot)
    seg2Grp.transform.rotate(seg2Rot)
    seg2Grp.transform.translate(50,0)
    seg3Grp.transform.rotate(seg3Rot)
    seg3Grp.transform.translate(50,0)
    seg4.transform.rotate(seg4Rot)
    seg4.transform.translate(50,0)

cgo.animate(armGrp, initArm, armPathFn, animData)
cgo.playAnimation()
&lt;/script&gt;

&lt;h3&gt;單連桿繪製與導入V-rep&lt;/h3&gt;
&lt;p&gt;&lt;p&gt; 利用Solvespace繪製以下尺寸及組裝連桿&lt;/p&gt;&lt;/p&gt;
&lt;h4&gt;尺寸&lt;/h4&gt;
&lt;p&gt;&lt;a href="http://imgur.com/pQ7GYmG"&gt;&lt;img src="http://i.imgur.com/pQ7GYmG.jpg" title="source: imgur.com" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;長度30連桿&lt;/h4&gt;
&lt;p&gt;&lt;iframe src="https://player.vimeo.com/video/209355096" width="640" height="343" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;a href="https://vimeo.com/209355096"&gt;base&lt;/a&gt; from &lt;a href="https://vimeo.com/user44900188"&gt;Yan syuan&lt;/a&gt; on &lt;a href="https://vimeo.com"&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;&lt;/p&gt;
&lt;h4&gt;長度50連桿&lt;/h4&gt;
&lt;p&gt;&lt;iframe src="https://player.vimeo.com/video/209354247" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;a href="https://vimeo.com/209354247"&gt;link1&lt;/a&gt; from &lt;a href="https://vimeo.com/user44900188"&gt;Yan syuan&lt;/a&gt; on &lt;a href="https://vimeo.com"&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;&lt;/p&gt;
&lt;h4&gt;直徑5的連桿&lt;/h4&gt;
&lt;p&gt;&lt;iframe src="https://player.vimeo.com/video/209355724" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;a href="https://vimeo.com/209355724"&gt;shaft&lt;/a&gt; from &lt;a href="https://vimeo.com/user44900188"&gt;Yan syuan&lt;/a&gt; on &lt;a href="https://vimeo.com"&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;&lt;/p&gt;
&lt;h4&gt;導入V-rep&lt;/h4&gt;
&lt;p&gt;&lt;iframe src="https://player.vimeo.com/video/209373893" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;a href="https://vimeo.com/209373893"&gt;v-rep  0316&lt;/a&gt; from &lt;a href="https://vimeo.com/user44900188"&gt;Yan syuan&lt;/a&gt; on &lt;a href="https://vimeo.com"&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;&lt;/p&gt;
&lt;h4&gt;V-rep模擬&lt;/h4&gt;
&lt;p&gt;&lt;iframe src="https://player.vimeo.com/video/210707261" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;a href="https://vimeo.com/210707261"&gt;v-rep模擬&lt;/a&gt; from &lt;a href="https://vimeo.com/user44900188"&gt;Yan syuan&lt;/a&gt; on &lt;a href="https://vimeo.com"&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;&lt;/p&gt;
&lt;h2&gt;Hyperworks安裝與心得&lt;/h2&gt;
&lt;h3&gt;各組利用網誌與簡報說明安裝或使用 Hyperworks 套件過程與心得 - 課程結束前, 希望能夠使用 Hyperworks 進行連桿機構零件的應力分析與機構運動模擬&lt;/h3&gt;
&lt;h4&gt;Hyperworks安裝&lt;/h4&gt;
&lt;h4&gt;心得&lt;/h4&gt;
&lt;h2&gt;Solidthinking安裝&lt;/h2&gt;
&lt;h2&gt;Feko安裝&lt;/h2&gt;
&lt;h2&gt;Fossil SCM 倉儲(網路)&lt;/h2&gt;</summary><category term="Hyperworks 與 2D 繪圖-W4"></category></entry><entry><title>Hyperworks 與 2D 繪圖-W4</title><link href="./Fossil.html" rel="alternate"></link><published>2017-03-16T15:00:00+08:00</published><updated>2017-03-16T15:00:00+08:00</updated><author><name>40423104-YanSyuan</name></author><id>tag:,2017-03-16:./Fossil.html</id><summary type="html">&lt;h4&gt;網際平面四連桿機構動態模擬&lt;/h4&gt;
&lt;h4&gt;單連桿繪製與導入V-rep&lt;/h4&gt;
&lt;h4&gt;Hyperworks&lt;/h4&gt;


&lt;h3&gt;網際平面四連桿機構動態模擬&lt;/h3&gt;
&lt;h4&gt;四連桿平面機構&lt;/h4&gt;
&lt;!-- 導入 Brython 標準程式庫 3.3.1 --&gt;

&lt;script type="text/javascript" src="./../data/brython_dist.js"&gt;
&lt;/script&gt;

&lt;script type="text/javascript" src="./../data/Cango-8v05-min.js"&gt;&lt;/script&gt;

&lt;script type="text/javascript" src="./../data/Cango2D-7v04-min.js"&gt;&lt;/script&gt;

&lt;script type="text/javascript" src="./../data/CangoAnimation-4v01.js"&gt;&lt;/script&gt;

&lt;!-- 啟動 Brython 時, 設定 pythonpath 為 data/py --&gt;

&lt;script&gt;
window.onload=function(){
brython({debug:1, pythonpath:['./../data/py']});
}
&lt;/script&gt;

&lt;!-- 以下執行 Brython 程式 --&gt;

&lt;canvas id="plotarea" width="600" height="600"&gt;&lt;/canvas&gt;

&lt;script type="text/python"&gt;
from browser import window

cango = window.Cango2D.new
shapedefs = window.shapeDefs
obj2d = window.Obj2D.new
group2d = window.Group2D.new
cgo = cango("plotarea")

x1, y1 = 40, 20
cx1, cy1 = 90, 120
x2, y2 = 120, 100
cx2, cy2 = 130, 20
cx3, cy3 = 150, 120
x3, y3 = 180, 60

def dragC1(mousePos):
    global cx1, cy1
    cx1 = mousePos.x
    cy1 = mousePos.y
    drawCurve()

def dragC2(mousePos):
    global cx2, cy2
    cx2 = mousePos.x
    cy2 = mousePos.y
    drawCurve()

def dragC3(mousePos):
    global cx3, cy3
    cx3 = mousePos.x
    cy3 = mousePos.y
    drawCurve()

def drawCurve():
    # curve change shape so it must be re-draw each time
    # draw a quadratic bezier from x1,y2 to x2,y2
    qbez = obj2d(['M', x1, y1, 'Q', cx1, cy1, x2, y2], "PATH",  {
          "strokeColor":'blue'})
    cbez = obj2d(['M', x2, y2, 'C', cx2, cy2, cx3, cy3, x3, y3], "PATH",  {
          "strokeColor":'green'})
    # show lines to control point
    L1 = obj2d(['M', x1, y1, 'L', cx1, cy1, x2, y2], "PATH", {
      "strokeColor":"rgba(0, 0, 0, 0.2)",
      "dashed":[4]})  # semi-transparent gray
    L2 = obj2d(['M', x2, y2, 'L', cx2, cy2], "PATH", {
      "strokeColor":"rgba(0, 0, 0, 0.2)",
      "dashed":[4]})
    L3 = obj2d(['M', x3, y3, 'L', cx3, cy3], "PATH", {
      "strokeColor":"rgba(0, 0, 0, 0.2)",
      "dashed":[4]})
    #c1.transform.reset()
    c1.transform.translate(cx1, cy1)
    #c2.transform.reset()
    c2.transform.translate(cx2, cy2)
    #c3.transform.reset()
    c3.transform.translate(cx3, cy3)
    grp = group2d(qbez, cbez, L1, L2, L3, c1, c2, c3)
    cgo.clearCanvas()
    cgo.render(grp)

cgo.clearCanvas("lightyellow")
cgo.setWorldCoords(0, 0, 200)

# draggable control points
c1 = obj2d(shapedefs.circle(4), "SHAPE", {"fillColor":'red'})
c1.enableDrag(None, dragC1, None)
c2 = c1.dup()
c2.enableDrag(None, dragC2, None)
c3 = c1.dup()
c3.enableDrag(None, dragC3, None)
drawCurve();
&lt;/script&gt;

&lt;p&gt;平面機構繪圖:&lt;/p&gt;
&lt;!-- 以下執行 Brython 程式 --&gt;

&lt;canvas id="plotarea2" width="600" height="600"&gt;&lt;/canvas&gt;

&lt;script type="text/python"&gt;
from browser import window

cango = window.Cango2D.new
shapedefs = window.shapeDefs
obj2d = window.Obj2D.new
group2d = window.Group2D.new
cgo = cango("plotarea2")

x1, y1 = 40, 20
cx1, cy1 = 90, 120
x2, y2 = 120, 100
cx2, cy2 = 130, 20
cx3, cy3 = 150, 120
x3, y3 = 180, 60

def dragC1(mousePos):
    global cx1, cy1
    cx1 = mousePos.x
    cy1 = mousePos.y
    drawCurve()

def dragC2(mousePos):
    global cx2, cy2
    cx2 = mousePos.x
    cy2 = mousePos.y
    drawCurve()

def dragC3(mousePos):
    global cx3, cy3
    cx3 = mousePos.x
    cy3 = mousePos.y
    drawCurve()

def dragX1(mousePos):
    global x1, y1
    x1 = mousePos.x
    y1 = mousePos.y
    drawCurve()

def drawCurve():
    # curve change shape so it must be re-draw each time
    # draw a quadratic bezier from x1,y2 to x2,y2
    qbez = obj2d(['M', x1, y1, 'Q', cx1, cy1, x2, y2], "PATH",  {
          "strokeColor":'blue'})
    cbez = obj2d(['M', x2, y2, 'C', cx2, cy2, cx3, cy3, x3, y3], "PATH",  {
          "strokeColor":'green'})
    # show lines to control point
    '''
    L1 = obj2d(['M', x1, y1, 'L', cx1, cy1, x2, y2], "PATH", {
      "strokeColor":"rgba(0, 0, 0, 0.2)",
      "dashed":[4]})  # semi-transparent gray
    L2 = obj2d(['M', x2, y2, 'L', cx2, cy2], "PATH", {
      "strokeColor":"rgba(0, 0, 0, 0.2)",
      "dashed":[4]})
    L3 = obj2d(['M', x3, y3, 'L', cx3, cy3], "PATH", {
      "strokeColor":"rgba(0, 0, 0, 0.2)",
      "dashed":[4]})
    '''
    L1 = obj2d(['M', x1, y1, 'L', cx1, cy1], "PATH", {
      "strokeColor":"rgba(0, 0, 0, 0.2)",
      "solided":[10]})  # semi-transparent gray
    L2 = obj2d(['M', cx1, cy1, 'L', cx2, cy2], "PATH", {
      "strokeColor":"rgba(0, 0, 0, 0.2)",
      "solided":[10]})
    L3 = obj2d(['M', cx2, cy2, 'L', cx3, cy3], "PATH", {
      "strokeColor":"rgba(0, 0, 0, 0.2)",
      "solided":[10]})
    #c1.transform.reset()
    c1.transform.translate(cx1, cy1)
    #c2.transform.reset()
    c2.transform.translate(cx2, cy2)
    #c3.transform.reset()
    c3.transform.translate(cx3, cy3)
    #mx1.transform.reset()
    mx1.transform.translate(x1, y1)
    #grp = group2d(qbez, cbez, L1, L2, L3, c1, c2, c3)
    grp = group2d(L1, L2, L3, c1, c2, c3, mx1)
    cgo.clearCanvas()
    cgo.render(grp)

cgo.clearCanvas("lightyellow")
cgo.setWorldCoords(0, 0, 200)

# draggable control points
c1 = obj2d(shapedefs.circle(4), "SHAPE", {"fillColor":'red'})
c1.enableDrag(None, dragC1, None)
c2 = c1.dup()
c2.enableDrag(None, dragC2, None)
c3 = c1.dup()
c3.enableDrag(None, dragC3, None)
mx1 = c1.dup()
mx1.enableDrag(None, dragX1, None)
drawCurve();
&lt;/script&gt;

&lt;p&gt;機械手臂動態模擬:&lt;/p&gt;
&lt;canvas id='robot' width='800' height='400'&gt;&lt;/canvas&gt;

&lt;script type="text/python"&gt;
from browser import window

cango2d = window.Cango2D.new
shapedefs = window.shapeDefs
obj2d = window.Obj2D.new
tweener = window.Tweener.new

cgo = cango2d("robot")
# 清除畫面
cgo.clearCanvas("lightyellow")
cgo.setWorldCoords(-50, -50, 300)

# 加上基軸與第一桿
# 畫筆移到 -20, -10, 畫直線到 -10,-10 以及 -10,0 
standData = ['M', -20,-10, 'L', -10,-10, -10,0, 'A', 10,10,0,0,0,10,0, 'L',10,-10, 20,-10, 20,-40, -20,-40,'z']
stand = obj2d(standData, "SHAPE", {
        "fillColor":'darkgray',
        "border": True,
        "strokeColor": "#222222" })
axle0 = obj2d(shapedefs.circle(10), "SHAPE", {
        "fillColor":'gray',
        "border": True,
        "strokeColor": "#222222" })
armGrp = cgo.createGroup2D(stand, axle0)

segData = ['M',0,-8, 'A',8,8,0,0,0,0,8, 'L',50,8, 'A',8,8,0,0,0,50,-8, 'Z']
seg1 = obj2d(segData, "SHAPE", {
        "fillColor":'darkGray',
        "border": True,
        "strokeColor": "#222222",
        "zIndex": -1 })
# 利用 zIndex 決定疊層的先後次序
axle1 = obj2d(shapedefs.circle(8), "SHAPE", {
        "fillColor":'gray',
        "border": True,
        "strokeColor": "#222222",
        "zIndex": 1 })
axle1.translate(50, 0)
seg1Grp = cgo.createGroup2D(seg1, axle1)
armGrp.addObj(seg1Grp)

# 加上第二軸
seg2 = obj2d(segData, "SHAPE", {
        "fillColor":'darkGray',
        "border": True,
        "strokeColor": "#222222",
        "zIndex": -1 })
axle2 = obj2d(shapedefs.circle(8), "SHAPE", {
        "fillColor":'gray',
        "border": True,
        "strokeColor": "#222222",
        "zIndex": 1 })
axle2.translate(50, 0)
seg2Grp = cgo.createGroup2D(seg2, axle2)
cgo.render(seg2Grp)
# 請注意 seg2Grp 加上 seg1Grp 物件上
seg1Grp.addObj(seg2Grp)

seg3 = obj2d(segData, "SHAPE", {
        'fillColor':'darkGray',
        'border': True,
        'strokeColor': "#222222",
        'zIndex': -1 })
axle3 = obj2d(shapedefs.circle(6), "SHAPE", {
        'fillColor':'gray',
        'border': True,
        'strokeColor': "#222222",
        'zIndex': 1 })
axle3.translate(50, 0)
seg3Grp = cgo.createGroup2D(seg3, axle3)
seg2Grp.addObj(seg3Grp)

seg4Data = ['M',0,-6, 'A',6,6,0,0,0,0,6, 'L',40,6, 40,12, 50,12, 50,-12, 40,-12, 40,-6, 'Z']
seg4 = obj2d(seg4Data, "SHAPE", {
        'fillColor':'darkGray',
        'border': True,
        'strokeColor': "#222222",
        'zIndex': -1 })
seg3Grp.addObj(seg4)

# setup animation
animData = {'s1': [0, 80, 45, 0],
                  's2': [0, -60, -60, 0],
                  's3': [0, -90, 0, 90, 0],
                  's4': [0, 30, -90, 0]}

armTwnr = tweener(0, 3500, 'loop')

def initArm(opts):
    seg2Grp.transform.translate(50,0)
    seg3Grp.transform.translate(50,0)
    seg4.transform.translate(50,0)


def armPathFn(time, opts):
    seg1Rot = armTwnr.getVal(time, opts.s1)
    seg2Rot = armTwnr.getVal(time, opts.s2)
    seg3Rot = armTwnr.getVal(time, opts.s3)
    seg4Rot = armTwnr.getVal(time, opts.s4)

    seg1Grp.transform.rotate(seg1Rot)
    seg2Grp.transform.rotate(seg2Rot)
    seg2Grp.transform.translate(50,0)
    seg3Grp.transform.rotate(seg3Rot)
    seg3Grp.transform.translate(50,0)
    seg4.transform.rotate(seg4Rot)
    seg4.transform.translate(50,0)

cgo.animate(armGrp, initArm, armPathFn, animData)
cgo.playAnimation()
&lt;/script&gt;

&lt;h3&gt;單連桿繪製與導入V-rep&lt;/h3&gt;
&lt;p&gt;&lt;p&gt; 利用Solvespace繪製以下尺寸及組裝連桿&lt;/p&gt;&lt;/p&gt;
&lt;h4&gt;尺寸&lt;/h4&gt;
&lt;p&gt;&lt;a href="http://imgur.com/pQ7GYmG"&gt;&lt;img src="http://i.imgur.com/pQ7GYmG.jpg" title="source: imgur.com" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;長度30連桿&lt;/h4&gt;
&lt;p&gt;&lt;iframe src="https://player.vimeo.com/video/209355096" width="640" height="343" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;a href="https://vimeo.com/209355096"&gt;base&lt;/a&gt; from &lt;a href="https://vimeo.com/user44900188"&gt;Yan syuan&lt;/a&gt; on &lt;a href="https://vimeo.com"&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;&lt;/p&gt;
&lt;h4&gt;長度50連桿&lt;/h4&gt;
&lt;p&gt;&lt;iframe src="https://player.vimeo.com/video/209354247" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;a href="https://vimeo.com/209354247"&gt;link1&lt;/a&gt; from &lt;a href="https://vimeo.com/user44900188"&gt;Yan syuan&lt;/a&gt; on &lt;a href="https://vimeo.com"&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;&lt;/p&gt;
&lt;h4&gt;直徑5的連桿&lt;/h4&gt;
&lt;p&gt;&lt;iframe src="https://player.vimeo.com/video/209355724" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;a href="https://vimeo.com/209355724"&gt;shaft&lt;/a&gt; from &lt;a href="https://vimeo.com/user44900188"&gt;Yan syuan&lt;/a&gt; on &lt;a href="https://vimeo.com"&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;&lt;/p&gt;
&lt;h4&gt;導入V-rep&lt;/h4&gt;
&lt;p&gt;&lt;iframe src="https://player.vimeo.com/video/209373893" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;a href="https://vimeo.com/209373893"&gt;v-rep  0316&lt;/a&gt; from &lt;a href="https://vimeo.com/user44900188"&gt;Yan syuan&lt;/a&gt; on &lt;a href="https://vimeo.com"&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;&lt;/p&gt;
&lt;h4&gt;V-rep模擬&lt;/h4&gt;
&lt;p&gt;&lt;iframe src="https://player.vimeo.com/video/210707261" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;a href="https://vimeo.com/210707261"&gt;v-rep模擬&lt;/a&gt; from &lt;a href="https://vimeo.com/user44900188"&gt;Yan syuan&lt;/a&gt; on &lt;a href="https://vimeo.com"&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;&lt;/p&gt;
&lt;h2&gt;Hyperworks安裝與心得&lt;/h2&gt;
&lt;h3&gt;各組利用網誌與簡報說明安裝或使用 Hyperworks 套件過程與心得 - 課程結束前, 希望能夠使用 Hyperworks 進行連桿機構零件的應力分析與機構運動模擬&lt;/h3&gt;
&lt;h4&gt;Hyperworks安裝&lt;/h4&gt;
&lt;h4&gt;心得&lt;/h4&gt;
&lt;h2&gt;Solidthinking安裝&lt;/h2&gt;
&lt;h2&gt;Feko安裝&lt;/h2&gt;
&lt;h2&gt;Fossil SCM 倉儲(網路)&lt;/h2&gt;</summary><category term="Hyperworks 與 2D 繪圖-W4"></category></entry><entry><title>Hyperworks 與 2D 繪圖-W4</title><link href="./Fossil.html" rel="alternate"></link><published>2017-03-16T15:00:00+08:00</published><updated>2017-03-16T15:00:00+08:00</updated><author><name>40423104-YanSyuan</name></author><id>tag:,2017-03-16:./Fossil.html</id><summary type="html">&lt;h4&gt;網際平面四連桿機構動態模擬&lt;/h4&gt;
&lt;h4&gt;單連桿繪製與導入V-rep&lt;/h4&gt;
&lt;h4&gt;Hyperworks&lt;/h4&gt;


&lt;h3&gt;網際平面四連桿機構動態模擬&lt;/h3&gt;
&lt;h4&gt;四連桿平面機構&lt;/h4&gt;
&lt;p&gt;&lt;!-- 以下執行 Brython 程式 --&gt;
&lt;canvas id="plotarea2" width="600" height="600"&gt;&lt;/canvas&gt;
&lt;script type="text/python"&gt;
from browser import window&lt;/p&gt;
&lt;p&gt;cango = window.Cango2D.new
shapedefs = window.shapeDefs
obj2d = window.Obj2D.new
group2d = window.Group2D.new
cgo = cango("plotarea2")&lt;/p&gt;
&lt;p&gt;x1, y1 = 40, 20
cx1, cy1 = 90, 120
x2, y2 = 120, 100
cx2, cy2 = 130, 20
cx3, cy3 = 150, 120
x3, y3 = 180, 60&lt;/p&gt;
&lt;p&gt;def dragC1(mousePos):
    global cx1, cy1
    cx1 = mousePos.x
    cy1 = mousePos.y
    drawCurve()&lt;/p&gt;
&lt;p&gt;def dragC2(mousePos):
    global cx2, cy2
    cx2 = mousePos.x
    cy2 = mousePos.y
    drawCurve()&lt;/p&gt;
&lt;p&gt;def dragC3(mousePos):
    global cx3, cy3
    cx3 = mousePos.x
    cy3 = mousePos.y
    drawCurve()&lt;/p&gt;
&lt;p&gt;def dragX1(mousePos):
    global x1, y1
    x1 = mousePos.x
    y1 = mousePos.y
    drawCurve()&lt;/p&gt;
&lt;p&gt;def drawCurve():
    # curve change shape so it must be re-draw each time
    # draw a quadratic bezier from x1,y2 to x2,y2
    qbez = obj2d(['M', x1, y1, 'Q', cx1, cy1, x2, y2], "PATH",  {
          "strokeColor":'blue'})
    cbez = obj2d(['M', x2, y2, 'C', cx2, cy2, cx3, cy3, x3, y3], "PATH",  {
          "strokeColor":'green'})
    # show lines to control point
    '''
    L1 = obj2d(['M', x1, y1, 'L', cx1, cy1, x2, y2], "PATH", {
      "strokeColor":"rgba(0, 0, 0, 0.2)",
      "dashed":[4]})  # semi-transparent gray
    L2 = obj2d(['M', x2, y2, 'L', cx2, cy2], "PATH", {
      "strokeColor":"rgba(0, 0, 0, 0.2)",
      "dashed":[4]})
    L3 = obj2d(['M', x3, y3, 'L', cx3, cy3], "PATH", {
      "strokeColor":"rgba(0, 0, 0, 0.2)",
      "dashed":[4]})
    '''
    L1 = obj2d(['M', x1, y1, 'L', cx1, cy1], "PATH", {
      "strokeColor":"rgba(0, 0, 0, 0.2)",
      "solided":[10]})  # semi-transparent gray
    L2 = obj2d(['M', cx1, cy1, 'L', cx2, cy2], "PATH", {
      "strokeColor":"rgba(0, 0, 0, 0.2)",
      "solided":[10]})
    L3 = obj2d(['M', cx2, cy2, 'L', cx3, cy3], "PATH", {
      "strokeColor":"rgba(0, 0, 0, 0.2)",
      "solided":[10]})
    #c1.transform.reset()
    c1.transform.translate(cx1, cy1)
    #c2.transform.reset()
    c2.transform.translate(cx2, cy2)
    #c3.transform.reset()
    c3.transform.translate(cx3, cy3)
    #mx1.transform.reset()
    mx1.transform.translate(x1, y1)
    #grp = group2d(qbez, cbez, L1, L2, L3, c1, c2, c3)
    grp = group2d(L1, L2, L3, c1, c2, c3, mx1)
    cgo.clearCanvas()
    cgo.render(grp)&lt;/p&gt;
&lt;p&gt;cgo.clearCanvas("lightyellow")
cgo.setWorldCoords(0, 0, 200)&lt;/p&gt;
&lt;h1&gt;draggable control points&lt;/h1&gt;
&lt;p&gt;c1 = obj2d(shapedefs.circle(4), "SHAPE", {"fillColor":'red'})
c1.enableDrag(None, dragC1, None)
c2 = c1.dup()
c2.enableDrag(None, dragC2, None)
c3 = c1.dup()
c3.enableDrag(None, dragC3, None)
mx1 = c1.dup()
mx1.enableDrag(None, dragX1, None)
drawCurve();
&lt;/script&gt;&lt;/p&gt;
&lt;h4&gt;四連桿動態模擬&lt;/h4&gt;
&lt;p&gt;&lt;canvas id='robot' width='800' height='400'&gt;&lt;/canvas&gt;
&lt;script type="text/python"&gt;
from browser import window&lt;/p&gt;
&lt;p&gt;cango2d = window.Cango2D.new
shapedefs = window.shapeDefs
obj2d = window.Obj2D.new
tweener = window.Tweener.new&lt;/p&gt;
&lt;p&gt;cgo = cango2d("robot")&lt;/p&gt;
&lt;h1&gt;清除畫面&lt;/h1&gt;
&lt;p&gt;cgo.clearCanvas("lightyellow")
cgo.setWorldCoords(-50, -50, 300)&lt;/p&gt;
&lt;h1&gt;加上基軸與第一桿&lt;/h1&gt;
&lt;h1&gt;畫筆移到 -20, -10, 畫直線到 -10,-10 以及 -10,0&lt;/h1&gt;
&lt;p&gt;standData = ['M', -20,-10, 'L', -10,-10, -10,0, 'A', 10,10,0,0,0,10,0, 'L',10,-10, 20,-10, 20,-40, -20,-40,'z']
stand = obj2d(standData, "SHAPE", {
        "fillColor":'darkgray',
        "border": True,
        "strokeColor": "#222222" })
axle0 = obj2d(shapedefs.circle(10), "SHAPE", {
        "fillColor":'gray',
        "border": True,
        "strokeColor": "#222222" })
armGrp = cgo.createGroup2D(stand, axle0)&lt;/p&gt;
&lt;p&gt;segData = ['M',0,-8, 'A',8,8,0,0,0,0,8, 'L',50,8, 'A',8,8,0,0,0,50,-8, 'Z']
seg1 = obj2d(segData, "SHAPE", {
        "fillColor":'darkGray',
        "border": True,
        "strokeColor": "#222222",
        "zIndex": -1 })&lt;/p&gt;
&lt;h1&gt;利用 zIndex 決定疊層的先後次序&lt;/h1&gt;
&lt;p&gt;axle1 = obj2d(shapedefs.circle(8), "SHAPE", {
        "fillColor":'gray',
        "border": True,
        "strokeColor": "#222222",
        "zIndex": 1 })
axle1.translate(50, 0)
seg1Grp = cgo.createGroup2D(seg1, axle1)
armGrp.addObj(seg1Grp)&lt;/p&gt;
&lt;h1&gt;加上第二軸&lt;/h1&gt;
&lt;p&gt;seg2 = obj2d(segData, "SHAPE", {
        "fillColor":'darkGray',
        "border": True,
        "strokeColor": "#222222",
        "zIndex": -1 })
axle2 = obj2d(shapedefs.circle(8), "SHAPE", {
        "fillColor":'gray',
        "border": True,
        "strokeColor": "#222222",
        "zIndex": 1 })
axle2.translate(50, 0)
seg2Grp = cgo.createGroup2D(seg2, axle2)
cgo.render(seg2Grp)&lt;/p&gt;
&lt;h1&gt;請注意 seg2Grp 加上 seg1Grp 物件上&lt;/h1&gt;
&lt;p&gt;seg1Grp.addObj(seg2Grp)&lt;/p&gt;
&lt;p&gt;seg3 = obj2d(segData, "SHAPE", {
        'fillColor':'darkGray',
        'border': True,
        'strokeColor': "#222222",
        'zIndex': -1 })
axle3 = obj2d(shapedefs.circle(6), "SHAPE", {
        'fillColor':'gray',
        'border': True,
        'strokeColor': "#222222",
        'zIndex': 1 })
axle3.translate(50, 0)
seg3Grp = cgo.createGroup2D(seg3, axle3)
seg2Grp.addObj(seg3Grp)&lt;/p&gt;
&lt;p&gt;seg4Data = ['M',0,-6, 'A',6,6,0,0,0,0,6, 'L',40,6, 40,12, 50,12, 50,-12, 40,-12, 40,-6, 'Z']
seg4 = obj2d(seg4Data, "SHAPE", {
        'fillColor':'darkGray',
        'border': True,
        'strokeColor': "#222222",
        'zIndex': -1 })
seg3Grp.addObj(seg4)&lt;/p&gt;
&lt;h1&gt;setup animation&lt;/h1&gt;
&lt;p&gt;animData = {'s1': [0, 80, 45, 0],
                  's2': [0, -60, -60, 0],
                  's3': [0, -90, 0, 90, 0],
                  's4': [0, 30, -90, 0]}&lt;/p&gt;
&lt;p&gt;armTwnr = tweener(0, 3500, 'loop')&lt;/p&gt;
&lt;p&gt;def initArm(opts):
    seg2Grp.transform.translate(50,0)
    seg3Grp.transform.translate(50,0)
    seg4.transform.translate(50,0)&lt;/p&gt;
&lt;p&gt;def armPathFn(time, opts):
    seg1Rot = armTwnr.getVal(time, opts.s1)
    seg2Rot = armTwnr.getVal(time, opts.s2)
    seg3Rot = armTwnr.getVal(time, opts.s3)
    seg4Rot = armTwnr.getVal(time, opts.s4)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;seg1Grp.transform.rotate(seg1Rot)
seg2Grp.transform.rotate(seg2Rot)
seg2Grp.transform.translate(50,0)
seg3Grp.transform.rotate(seg3Rot)
seg3Grp.transform.translate(50,0)
seg4.transform.rotate(seg4Rot)
seg4.transform.translate(50,0)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;cgo.animate(armGrp, initArm, armPathFn, animData)
cgo.playAnimation()
&lt;/script&gt;&lt;/p&gt;
&lt;h3&gt;單連桿繪製與導入V-rep&lt;/h3&gt;
&lt;p&gt;&lt;p&gt; 利用Solvespace繪製以下尺寸及組裝連桿&lt;/p&gt;&lt;/p&gt;
&lt;h4&gt;尺寸&lt;/h4&gt;
&lt;p&gt;&lt;a href="http://imgur.com/pQ7GYmG"&gt;&lt;img src="http://i.imgur.com/pQ7GYmG.jpg" title="source: imgur.com" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;長度30連桿&lt;/h4&gt;
&lt;p&gt;&lt;iframe src="https://player.vimeo.com/video/209355096" width="640" height="343" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;a href="https://vimeo.com/209355096"&gt;base&lt;/a&gt; from &lt;a href="https://vimeo.com/user44900188"&gt;Yan syuan&lt;/a&gt; on &lt;a href="https://vimeo.com"&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;&lt;/p&gt;
&lt;h4&gt;長度50連桿&lt;/h4&gt;
&lt;p&gt;&lt;iframe src="https://player.vimeo.com/video/209354247" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;a href="https://vimeo.com/209354247"&gt;link1&lt;/a&gt; from &lt;a href="https://vimeo.com/user44900188"&gt;Yan syuan&lt;/a&gt; on &lt;a href="https://vimeo.com"&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;&lt;/p&gt;
&lt;h4&gt;直徑5的連桿&lt;/h4&gt;
&lt;p&gt;&lt;iframe src="https://player.vimeo.com/video/209355724" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;a href="https://vimeo.com/209355724"&gt;shaft&lt;/a&gt; from &lt;a href="https://vimeo.com/user44900188"&gt;Yan syuan&lt;/a&gt; on &lt;a href="https://vimeo.com"&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;&lt;/p&gt;
&lt;h4&gt;導入V-rep&lt;/h4&gt;
&lt;p&gt;&lt;iframe src="https://player.vimeo.com/video/209373893" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;a href="https://vimeo.com/209373893"&gt;v-rep  0316&lt;/a&gt; from &lt;a href="https://vimeo.com/user44900188"&gt;Yan syuan&lt;/a&gt; on &lt;a href="https://vimeo.com"&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;&lt;/p&gt;
&lt;h4&gt;V-rep模擬&lt;/h4&gt;
&lt;h2&gt;Hyperworks安裝與心得&lt;/h2&gt;
&lt;h3&gt;各組利用網誌與簡報說明安裝或使用 Hyperworks 套件過程與心得 - 課程結束前, 希望能夠使用 Hyperworks 進行連桿機構零件的應力分析與機構運動模擬&lt;/h3&gt;
&lt;h4&gt;Hyperworks安裝&lt;/h4&gt;
&lt;h4&gt;心得&lt;/h4&gt;
&lt;h2&gt;Solidthinking安裝&lt;/h2&gt;
&lt;h2&gt;Feko安裝&lt;/h2&gt;
&lt;h2&gt;Fossil SCM 倉儲(網路)&lt;/h2&gt;</summary><category term="Hyperworks 與 2D 繪圖-W4"></category></entry><entry><title>Fossil 與 Stunnel 啟動-W3</title><link href="./Fossil%20%E8%88%87%20Stunnel.html" rel="alternate"></link><published>2017-03-09T15:00:00+08:00</published><updated>2017-03-09T15:00:00+08:00</updated><author><name>40423104-YanSyuan</name></author><id>tag:,2017-03-09:./Fossil 與 Stunnel.html</id><summary type="html">&lt;h4&gt;Fossil SCM&lt;/h4&gt;
&lt;h4&gt;Stunnel 啟動&lt;/h4&gt;
&lt;h4&gt;Hyperworks翻譯&lt;/h4&gt;
&lt;h4&gt;Solvespace四連桿三角形頂點運動軌跡&lt;/h4&gt;


&lt;h2&gt;Fossil SCM與Stunnel 啟動&lt;/h2&gt;
&lt;h4&gt;步驟1. 執行fossil_repo目錄執行指令&lt;/h4&gt;
&lt;p&gt;&lt;pre&gt;fossil init 組別.fpssil&lt;/pre&gt;
&lt;a href="http://imgur.com/lxR6Cpe"&gt;&lt;img src="http://i.imgur.com/lxR6Cpe.jpg" title="source: imgur.com" /&gt;&lt;/a&gt;
&lt;a href="http://imgur.com/nxL7g4L"&gt;&lt;img src="http://i.imgur.com/nxL7g4L.jpg" title="source: imgur.com" /&gt;&lt;/a&gt;
&lt;p&gt;*帳號密碼記得儲存&lt;/p&gt;&lt;/p&gt;
&lt;h4&gt;步驟2. 更改Start.bat內容(在SciTE下更改)&lt;/h4&gt;
&lt;p&gt;&lt;pre class="brush: python"&gt;
REM tiny2017 主要針對初學 Python3 與 C 學員所建立
REM 近端使用 fossil 管理資料版本, 並且定時轉為 git 格式後上傳到 github
@echo off
REM 設定 y 硬碟代號與 data 目錄對應
set Disk=y
subst %Disk%: "data"
REM 設定 leo 相關對應 Home 位置
set HomePath=%Disk%:\home
set HomeDrive=%Disk%:\home
set Home=%Disk%:\home
REM 將系統 Python 程式的 io 設為 utf-8
set PYTHONIOENCODING="utf-8"
REM 將後續的指令執行, 以 %Disk% 為主
%Disk%:
REM 設定 PYTHONPATH
set PYTHONPATH=%Disk%:\python-3.5.3-embed-amd64
REM 設定 Leo 所用的編輯器
set LEO_EDITOR=%Disk%:\wscite\SciTE.exe
REM for fossil https 連線設定
set HTTPS=on
REM 指令搜尋路徑設定
set path1=%PATH%;%Disk%:;%Disk%:\python-3.5.3-embed-amd64;%Disk%:\git\bin;%Disk%:\stunnel\bin;%Disk%:\sqlite-tools;%Disk%:\python-3.5.3-embed-amd64\Scripts;%Disk%:\portablegit\bin;
set path2=c:\Windows\Microsoft.NET\Framework\v3.5;%Disk%:\python-3.5.3-embed-amd64\Lib\site-packages;
path=%path%;%path1%;%path2%
start /MIN %Disk%:\wscite\SciTE.exe
start /MIN cmd.exe
start /MIN cmd.exe
start /MIN cmd.exe
REM 啟動 Leo 編輯器
REM %Disk%:\Miniconda3\python.exe %Disk%:\apps\launchLeo.py
REM 啟動 stunnel
start /MIN fossil.exe server -P 127.0.0.1:8080 %Disk%:\tmp\fossil_repo\2017springcd_hw.fpssil
REM 取得電腦 IP, 然後設定 %Disk%:/stunnel/config/stunnel.conf
for /f "delims=[] tokens=2" %%a in ('ping -4 -n 1 %ComputerName% ^| findstr [') do set NetworkIP=%%a
REM echo Network IP: %NetworkIP%
REM Saved in %Disk%:\stunnel\config\stunnel.conf
@echo off
REM 建立 stunnel.conf
@echo [https] &amp;gt; %Disk%:\stunnel\config\stunnel.conf
REM 附加資料
@echo accept = %NetworkIP%:443 &amp;gt;&amp;gt; %Disk%:\stunnel\config\stunnel.conf
@echo connect = 127.0.0.1:8080 &amp;gt;&amp;gt; %Disk%:\stunnel\config\stunnel.conf
@echo TIMEOUTclose = 0 &amp;gt;&amp;gt; %Disk%:\stunnel\config\stunnel.conf
@echo cert = %Disk%:\stunnel\config\localhost.crt &amp;gt;&amp;gt; %Disk%:\stunnel\config\stunnel.conf
@echo key = %Disk%:\stunnel\config\localhost.key &amp;gt;&amp;gt; %Disk%:\stunnel\config\stunnel.conf
REM 啟動 stunnel
start /MIN stunnel.exe
Exit
&lt;/pre&gt;
&lt;p&gt;*記得要儲存&lt;/p&gt;&lt;/p&gt;
&lt;h4&gt;步驟3. 執行查詢IP指令(如有使用proxy，記得先關閉)&lt;/h4&gt;
&lt;p&gt;&lt;pre&gt;ipconfig /all&lt;/pre&gt;
&lt;a href="http://imgur.com/uKh1Dq3"&gt;&lt;img src="http://i.imgur.com/uKh1Dq3.png" title="source: imgur.com" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;步驟4. 將查詢到的IPv4&lt;/h4&gt;
&lt;p&gt;&lt;pre&gt;在網頁上輸入 https://IP位址 &lt;/pre&gt;&lt;/p&gt;
&lt;h4&gt;完成&lt;/h4&gt;
&lt;p&gt;&lt;a href="http://imgur.com/k7r1XRG"&gt;&lt;img src="http://i.imgur.com/k7r1XRG.png" title="source: imgur.com" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;可在網頁中進入設定更改成自己小組的名字&lt;/h4&gt;
&lt;h2&gt;操作影片&lt;/h2&gt;
&lt;p&gt;&lt;iframe src="https://player.vimeo.com/video/207569135" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;a href="https://vimeo.com/207569135"&gt;2017-03-09 11-13-46&lt;/a&gt; from &lt;a href="https://vimeo.com/user44900188"&gt;Yan syuan&lt;/a&gt; on &lt;a href="https://vimeo.com"&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;&lt;/p&gt;
&lt;h2&gt;hyperworks翻譯&lt;/h2&gt;
&lt;h3&gt;hyperworks1&lt;/h3&gt;
&lt;p&gt;In the 2017 release, we followed our vision and implement a lot more features, delivering more technology for your HyperWorks units investment.
In our continuous development, we focused, as always, on simulation-driven innovation, adding more optimization technology. 
We added more physics simulation to the software, and we improved our parallel performance on high performance computers. 
OptiStruct, which is our implicit code, adds a lot of development in the nonlinear implicit area, but also in the optimization technology. 
RADIOSS, we see a lot of development in new materials and material modeling. 
You probably know that we did the acquisition of MDS a couple of years back, and we have now MDS integrated with RSDIOSS, and are doing application there. MotionSolve is based on a very unique formulation that this different from other multibody dynamics code, and the MotionSolve formulation lends itself very well to optimization implementation. So the team has worked really hard on contact formulations, got very robust. It's very cool which kind of problems can solve with contact modelling.
So this is along the structural solvers side on AcuSolve side we actually added the complete portfolio of turbulence and transition models that really helps us to solve problems in wind turbines and automotive industry much more accurately, and it’s a big asset of physics simulation.
And then our electromagnetic suite has actually grown last year through the acquisition of Flux, from the CEDRAT company.
As well as the acquisition of WinProp, from AWE.
So now we have a complete frequency spectrum from low frequency electromagnetics the high frequency electromagnetics which is powered by FEKO.
We now have a complete portfolio of physics modeling available for our customers, and it’s all linked through optimization.&lt;/p&gt;
&lt;h3&gt;hyperworks3&lt;/h3&gt;
&lt;p&gt;In OptiStruct, one of our focus areas is nonlinear large deformation analysis 
And in 2017 we added nonlinear transient analysis
The main purpose was to couple AcuSolve to do fluid-structure interaction
But also one development that happened during the last year
Came out piece-wise in different point releases
And is now really mature
And 2017 is our contact analysis
So we have different ways of defining large sliding contact and things like that
The fast contact analysis for small deformation is blazing fast
It’s a very simple idea that makes the solution very fast, and that adds OptiStruct as really a leading nonlinear 
Our two major optimization packages are OptiStruct for structural optimization, there’s a huge multidisciplinary component, too
And Hyperstudy for general optimization wrap around multidisciplinary optimization
[For] OptiStruct we spend a lot of time continuing the development for optimization
And we have now Failsafe topology optimization
We kept on working on the manufacturing solution to do lattice optimization
For the multi-model optimization it’s really maturing and we find more and more applications where that helps 
Our goal is actually to include all the physics in the optimizations
So the team right now is working on optimization for nonlinear problems and so on
And then Hyperstudy, on the other hand, is going through a new transformation of the user the user experience was changed a few years back, but we are now trying to  make it much more easy to use by hiding a lot of the advanced functionalities to the regular users
And depending on the level of expertise or depending on the job that the user has to do, they can customize the userience
We adds a few new connections
One of them is a Flux connection
Flux is an electromagnetics code that we just acquired for low frequency electromagnetics, so we can all take a Flux database and put it into Hyperstudy into the study with that&lt;/p&gt;
&lt;h3&gt;影片心得&lt;/h3&gt;
&lt;h2&gt;solvespace四連桿三角形頂點運動軌跡&lt;/h2&gt;
&lt;h3&gt;桿件加入三角形顯示路徑與過程&lt;/h3&gt;
&lt;p&gt;&lt;a href="http://imgur.com/9HN7TK8"&gt;&lt;img src="http://i.imgur.com/9HN7TK8.png" title="source: imgur.com" /&gt;&lt;/a&gt;
&lt;iframe src="https://player.vimeo.com/video/208360660" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;a href="https://vimeo.com/208360660"&gt;Untitled&lt;/a&gt; from &lt;a href="https://vimeo.com/user44900188"&gt;Yan syuan&lt;/a&gt; on &lt;a href="https://vimeo.com"&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;&lt;/p&gt;
&lt;h3&gt;利用excel查看路徑是否與在solvespace操作下相同(驗證路徑)&lt;/h3&gt;
&lt;p&gt;&lt;a href="http://imgur.com/ZraAYID"&gt;&lt;img src="http://i.imgur.com/ZraAYID.png" title="source: imgur.com" /&gt;&lt;/a&gt;
&lt;iframe src="https://player.vimeo.com/video/208361060" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;a href="https://vimeo.com/208361060"&gt;excel路徑&lt;/a&gt; from &lt;a href="https://vimeo.com/user44900188"&gt;Yan syuan&lt;/a&gt; on &lt;a href="https://vimeo.com"&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;&lt;/p&gt;
&lt;h2&gt;V-rep&lt;/h2&gt;
&lt;h3&gt;完成 Solvespace 30-50-60 cm 比例的四連桿組立, 並轉出 stl 檔案, 以 import 方式轉入 V-rep&lt;/h3&gt;
&lt;p&gt;&lt;iframe src="https://player.vimeo.com/video/209081797" width="640" height="347" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;a href="https://vimeo.com/209081797"&gt;v-rep(solvespace)&lt;/a&gt; from &lt;a href="https://vimeo.com/user44900188"&gt;Yan syuan&lt;/a&gt; on &lt;a href="https://vimeo.com"&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;&lt;/p&gt;
&lt;h3&gt;利用 Onshape 上述相同尺寸之四連桿機構, 以 stl 轉出 (或其他格式) 後, 再轉入 V-rep&lt;/h3&gt;
&lt;p&gt;&lt;iframe src="https://player.vimeo.com/video/209085492" width="640" height="343" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;a href="https://vimeo.com/209085492"&gt;v-rep(on-shape)&lt;/a&gt; from &lt;a href="https://vimeo.com/user44900188"&gt;Yan syuan&lt;/a&gt; on &lt;a href="https://vimeo.com"&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;&lt;/p&gt;
&lt;h2&gt;心得&lt;/h2&gt;
&lt;p&gt;&lt;p&gt; 1.學習如何使用Fossil SCM &lt;/p&gt;
&lt;p&gt; 2.目前Stunnel 啟動不能再proxy下進入網頁 &lt;/p&gt;
&lt;p&gt; 3.英文翻譯學習 &lt;/p&gt;&lt;/p&gt;</summary><category term="Fossil 與 Stunnel-W3"></category></entry><entry><title>V-rep模擬-W5</title><link href="./V-rep.html" rel="alternate"></link><published>2017-03-09T15:00:00+08:00</published><updated>2017-03-09T15:00:00+08:00</updated><author><name>40423104-YanSyuan</name></author><id>tag:,2017-03-09:./V-rep.html</id><summary type="html">&lt;h4&gt;V-rep&lt;/h4&gt;
</summary><category term="V-rep-W5"></category></entry><entry><title>solvespace四連桿v-rep應用-W2</title><link href="./solvespace%E8%88%87v-rep.html" rel="alternate"></link><published>2017-03-02T15:00:00+08:00</published><updated>2017-03-02T15:00:00+08:00</updated><author><name>40423104-YanSyuan</name></author><id>tag:,2017-03-02:./solvespace與v-rep.html</id><summary type="html">&lt;h4&gt;Solvespace四連桿系統繪圖模擬&lt;/h4&gt;
&lt;h4&gt;v-rep應用模擬&lt;/h4&gt;


&lt;h2&gt;利用Solvespace組合四連桿機構&lt;/h2&gt;
&lt;h3&gt;四連桿機構&lt;/h3&gt;
&lt;iframe src="https://player.vimeo.com/video/206347595" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;

&lt;p&gt;&lt;a href="https://vimeo.com/206347595"&gt;W1 and W2四連桿-20170302&lt;/a&gt; from &lt;a href="https://vimeo.com/user44900188"&gt;Yan syuan&lt;/a&gt; on &lt;a href="https://vimeo.com"&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;

&lt;h3&gt;長度30連桿&lt;/h3&gt;
&lt;iframe src="https://player.vimeo.com/video/207312630" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;

&lt;p&gt;&lt;a href="https://vimeo.com/207312630"&gt;W2-30桿件&lt;/a&gt; from &lt;a href="https://vimeo.com/user44900188"&gt;Yan syuan&lt;/a&gt; on &lt;a href="https://vimeo.com"&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;

&lt;iframe src="./../data/Week2/30桿件.html" width="640" height="360"&gt;&lt;/iframe&gt;

&lt;h3&gt;長度50連桿&lt;/h3&gt;
&lt;iframe src="https://player.vimeo.com/video/207314989" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;

&lt;p&gt;&lt;a href="https://vimeo.com/207314989"&gt;W2-50桿件&lt;/a&gt; from &lt;a href="https://vimeo.com/user44900188"&gt;Yan syuan&lt;/a&gt; on &lt;a href="https://vimeo.com"&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;

&lt;iframe src="./../data/Week2/50桿件.html" width="640" height="360"&gt;&lt;/iframe&gt;

&lt;h3&gt;長度60連桿&lt;/h3&gt;
&lt;iframe src="https://player.vimeo.com/video/207315011" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;

&lt;p&gt;&lt;a href="https://vimeo.com/207315011"&gt;W2-60桿件&lt;/a&gt; from &lt;a href="https://vimeo.com/user44900188"&gt;Yan syuan&lt;/a&gt; on &lt;a href="https://vimeo.com"&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;

&lt;iframe src="./../data/Week2/60桿件.html" width="640" height="360"&gt;&lt;/iframe&gt;

&lt;h3&gt;四連桿組合&lt;/h3&gt;
&lt;iframe src="https://player.vimeo.com/video/207315023" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;

&lt;p&gt;&lt;a href="https://vimeo.com/207315023"&gt;W2-組合&lt;/a&gt; from &lt;a href="https://vimeo.com/user44900188"&gt;Yan syuan&lt;/a&gt; on &lt;a href="https://vimeo.com"&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;

&lt;iframe src="./../data/Week2/組合.html" width="640" height="360"&gt;&lt;/iframe&gt;

&lt;h2&gt;v-rep應用&lt;/h2&gt;
&lt;h4&gt;還在整理&lt;/h4&gt;
&lt;h2&gt;心得&lt;/h2&gt;
&lt;p&gt;&lt;p&gt; 1.學習v-rep應用模擬四連桿 &lt;/p&gt;
&lt;p&gt; 2.熟悉v-rep操作 &lt;/p&gt;
&lt;p&gt; 3.隨著多次練習畫圖模擬，更了解上課內容 &lt;/p&gt;&lt;/p&gt;</summary><category term="solvespace與v-rep-W2"></category></entry><entry><title>協同設計資料與連桿實習-W1</title><link href="./solvespace%E8%88%87Onshape.html" rel="alternate"></link><published>2017-02-23T15:00:00+08:00</published><updated>2017-02-23T15:00:00+08:00</updated><author><name>40423104-YanSyuan</name></author><id>tag:,2017-02-23:./solvespace與Onshape.html</id><summary type="html">&lt;h4&gt;Solvespace 與 Onshape 組立單軸旋轉連桿系統、四連桿系統繪圖模擬&lt;/h4&gt;
&lt;h4&gt;git submodule指令複習&lt;/h4&gt;


&lt;h2&gt;協同設計資料&lt;/h2&gt;
&lt;p&gt;&lt;pre&gt; &lt;/p&gt;
&lt;h4&gt;1.利用 GitHub 建立 2017springcd_hw作業倉儲&lt;/h4&gt;
&lt;h4&gt;2.利用 GitHub 建立 2017springcd_ag2小組倉儲&lt;/h4&gt;
&lt;h4&gt;3.使用 git submodule指令，將組員增加在同一個子目錄&lt;/h4&gt;
&lt;/pre&gt;

&lt;h3&gt;增加子目錄指令:&lt;/h3&gt;
&lt;pre&gt;

&lt;h4&gt;A.→git clone 小組倉儲&lt;/h4&gt;
&lt;h4&gt;B.→cd 倉儲資料夾&lt;/h4&gt;
&lt;h4&gt;C.→git submodule add 子目錄倉儲網址 子目錄名稱&lt;/h4&gt;
&lt;/pre&gt;

&lt;h3&gt;更新子目錄指令:&lt;/h3&gt;
&lt;pre&gt;

&lt;h4&gt;A.git submodule update --init --recursive→抓取原倉儲的子目錄資料&lt;/h4&gt;
&lt;h4&gt;B.git submodule foreach --recursive git pull origin gh-pages→更新所有的子目錄的版本(所有組員都更新) &lt;/pre&gt;&lt;/h4&gt;
&lt;h2&gt;W1任務&lt;/h2&gt;
&lt;p&gt;&lt;pre&gt; &lt;p&gt;1.使用隨身硬碟下載可攜系統，下載&lt;a href="http://service.mde.tw/public/tiny2017_50MB.7z"&gt;tiny2017_50MB.7z&lt;/a&gt;, 以及 &lt;a href="http://service.mde.tw/public/tiny2017_1GB.7z"&gt;tiny2017_1GB.7z&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;2.如何在 tiny2017_1GB.7z 下開起LEO&lt;/p&gt; &lt;/pre&gt;&lt;/p&gt;
&lt;h4&gt;步驟1&lt;/h4&gt;
&lt;p&gt;&lt;a href="http://imgur.com/kFn7kpR"&gt;&lt;img src="http://i.imgur.com/kFn7kpR.jpg" title="source: imgur.com" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;步驟2&lt;/h4&gt;
&lt;p&gt;&lt;a href="http://imgur.com/IlwS7zd"&gt;&lt;img src="http://i.imgur.com/IlwS7zd.jpg" title="source: imgur.com" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;打開完成&lt;/h4&gt;
&lt;p&gt;&lt;a href="http://imgur.com/uLV7Fzb"&gt;&lt;img src="http://i.imgur.com/uLV7Fzb.png" title="source: imgur.com" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Solvespace四連桿機構&lt;/h2&gt;
&lt;h3&gt;四連桿機構&lt;/h3&gt;
&lt;iframe src="https://player.vimeo.com/video/206347595" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;

&lt;p&gt;&lt;a href="https://vimeo.com/206347595"&gt;W1 and W2四連桿-20170302&lt;/a&gt; from &lt;a href="https://vimeo.com/user44900188"&gt;Yan syuan&lt;/a&gt; on &lt;a href="https://vimeo.com"&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;

&lt;h3&gt;長度30連桿&lt;/h3&gt;
&lt;iframe src="https://player.vimeo.com/video/206344876" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;

&lt;p&gt;&lt;a href="https://vimeo.com/206344876"&gt;W1-30桿件-20170223&lt;/a&gt; from &lt;a href="https://vimeo.com/user44900188"&gt;Yan syuan&lt;/a&gt; on &lt;a href="https://vimeo.com"&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;

&lt;iframe src="./../data/Week1/30桿.html" width="640" height="360"&gt;&lt;/iframe&gt;

&lt;h3&gt;長度50連桿&lt;/h3&gt;
&lt;iframe src="https://player.vimeo.com/video/206346002" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;

&lt;p&gt;&lt;a href="https://vimeo.com/206346002"&gt;W1-50桿件-20170223&lt;/a&gt; from &lt;a href="https://vimeo.com/user44900188"&gt;Yan syuan&lt;/a&gt; on &lt;a href="https://vimeo.com"&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;

&lt;iframe src="./../data/Week1/50桿.html" width="640" height="360"&gt;&lt;/iframe&gt;

&lt;h3&gt;長度60連桿&lt;/h3&gt;
&lt;iframe src="https://player.vimeo.com/video/206347142" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;

&lt;p&gt;&lt;a href="https://vimeo.com/206347142"&gt;W1-60桿件-20170223&lt;/a&gt; from &lt;a href="https://vimeo.com/user44900188"&gt;Yan syuan&lt;/a&gt; on &lt;a href="https://vimeo.com"&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;

&lt;iframe src="./../data/Week1/60桿.html" width="640" height="360"&gt;&lt;/iframe&gt;

&lt;h3&gt;四連桿組合&lt;/h3&gt;
&lt;iframe src="https://player.vimeo.com/video/207295299" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;

&lt;p&gt;&lt;a href="https://vimeo.com/207295299"&gt;W1-組合&lt;/a&gt; from &lt;a href="https://vimeo.com/user44900188"&gt;Yan syuan&lt;/a&gt; on &lt;a href="https://vimeo.com"&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;

&lt;iframe src="./../data/Week1/組合.html" width="640" height="360"&gt;&lt;/iframe&gt;

&lt;h2&gt;Onshape四連桿機構&lt;/h2&gt;
&lt;h3&gt;四連桿機構&lt;/h3&gt;
&lt;p&gt;&lt;iframe src="https://player.vimeo.com/video/207301283" width="640" height="316" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;a href="https://vimeo.com/207301283"&gt;W1-onshape-連桿&lt;/a&gt; from &lt;a href="https://vimeo.com/user44900188"&gt;Yan syuan&lt;/a&gt; on &lt;a href="https://vimeo.com"&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;&lt;/p&gt;
&lt;h3&gt;長度30連桿&lt;/h3&gt;
&lt;p&gt;&lt;iframe src="https://player.vimeo.com/video/207300388" width="640" height="316" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;a href="https://vimeo.com/207300388"&gt;W1-onshape-30in&lt;/a&gt; from &lt;a href="https://vimeo.com/user44900188"&gt;Yan syuan&lt;/a&gt; on &lt;a href="https://vimeo.com"&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;&lt;/p&gt;
&lt;h3&gt;長度50連桿&lt;/h3&gt;
&lt;p&gt;&lt;iframe src="https://player.vimeo.com/video/207299666" width="640" height="316" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;a href="https://vimeo.com/207299666"&gt;W1-onshape-50in&lt;/a&gt; from &lt;a href="https://vimeo.com/user44900188"&gt;Yan syuan&lt;/a&gt; on &lt;a href="https://vimeo.com"&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;&lt;/p&gt;
&lt;h3&gt;長度60連桿&lt;/h3&gt;
&lt;p&gt;&lt;iframe src="https://player.vimeo.com/video/207300757" width="640" height="316" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;a href="https://vimeo.com/207300757"&gt;W1-onshape-60in&lt;/a&gt; from &lt;a href="https://vimeo.com/user44900188"&gt;Yan syuan&lt;/a&gt; on &lt;a href="https://vimeo.com"&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;&lt;/p&gt;
&lt;h3&gt;四連桿組合&lt;/h3&gt;
&lt;p&gt;&lt;iframe src="https://player.vimeo.com/video/207304049" width="640" height="316" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;a href="https://vimeo.com/207304049"&gt;W1-onshape-組合&lt;/a&gt; from &lt;a href="https://vimeo.com/user44900188"&gt;Yan syuan&lt;/a&gt; on &lt;a href="https://vimeo.com"&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;&lt;/p&gt;
&lt;h2&gt;心得&lt;/h2&gt;
&lt;p&gt;&lt;p&gt; 1.利用第一周熟悉Solvespace 與 Onshape繪圖與模擬以及組合(包含快捷鍵複習) &lt;/p&gt;
&lt;p&gt; 2.熟悉git submodule指令 &lt;/p&gt;
&lt;p&gt; 3.了解這學期上課內容與每周進度 &lt;/p&gt;&lt;/p&gt;</summary><category term="solvespace與Onshape-W1"></category></entry><entry><title>協同產品設計實習第1週任務</title><link href="./brython-2d-drawing.html" rel="alternate"></link><published>2017-02-22T11:00:00+08:00</published><updated>2017-02-22T11:00:00+08:00</updated><author><name>yen</name></author><id>tag:,2017-02-22:./brython-2d-drawing.html</id><summary type="html">&lt;p&gt;網際協同設計資料整合, 網際 2D 程式繪圖回顧&lt;/p&gt;


&lt;h2&gt;網際協同設計資料整合&lt;/h2&gt;
&lt;p&gt;利用 Github 倉儲中的組員間 git submodule 設定, 可以進行網際協同設計資料整合.&lt;/p&gt;
&lt;p&gt;導入組員設計資料範例: &lt;a href="http://mde.tw/2016fallcadp/blog/li-yong-git-submodule-gong-neng-jin-xing-zu-yuan-zi-liao-she-ji-zheng-he.html"&gt;http://mde.tw/2016fallcadp/blog/li-yong-git-submodule-gong-neng-jin-xing-zu-yuan-zi-liao-she-ji-zheng-he.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;導入組員程式範例: &lt;a href="https://scrum-1.github.io/2016fallcadp_ag100/blog/dao-ru-zu-yuan-cheng-shi-ce-shi.html"&gt;https://scrum-1.github.io/2016fallcadp_ag100/blog/dao-ru-zu-yuan-cheng-shi-ce-shi.html&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;網際 2D 程式繪圖回顧&lt;/h2&gt;
&lt;p&gt;利用 HTML5 Canvas 與 Brython, 可以進行網際 2D 設計模擬繪圖:&lt;/p&gt;
&lt;p&gt;&lt;a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Transformations"&gt;https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Transformations&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.codeproject.com/Articles/598955/CoordinateplussystemplusinplusHTML-plusCanvas-cpl"&gt;https://www.codeproject.com/Articles/598955/CoordinateplussystemplusinplusHTML-plusCanvas-cpl&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://blog.carbonfive.com/2011/03/31/taming-2d-transforms/"&gt;http://blog.carbonfive.com/2011/03/31/taming-2d-transforms/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://blog.carbonfive.com/2011/02/17/visualizing-skillsets-in-html5-canvas-part-1/"&gt;http://blog.carbonfive.com/2011/02/17/visualizing-skillsets-in-html5-canvas-part-1/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;利用網際 Python3 程式進行 2D 繪圖:&lt;/p&gt;
&lt;!-- 為了讓 import script1 可以正確運行, 停留在 Brython 3.2.9 版 --&gt;

&lt;script type="text/javascript" src="https://cdn.rawgit.com/brython-dev/brython/3.2.9/www/src/brython_dist.js"&gt;
&lt;/script&gt;

&lt;!-- 啟動 Brython --&gt;

&lt;script&gt;
window.onload=function(){
brython({debug:1, pythonpath:['./../scrum-1/py']});
}
&lt;/script&gt;

&lt;!-- 以下執行 Brython 程式 --&gt;

&lt;!-- 以下實際利用  Brython 畫兩條直線 --&gt;

&lt;canvas id="canvas1" width="600" height="200"&gt;&lt;/canvas&gt;

&lt;script type="text/python3" id="script1"&gt;
from browser import document
import math
# 準備繪圖畫布
canvas = document["canvas1"]
ctx = canvas.getContext("2d")

def axises(ctx):
    ctx.beginPath()
    # 設定線的寬度為 5 個單位
    ctx.lineWidth = 5
    # 將畫筆移動到 (0, 0) 座標點
    ctx.moveTo(0, 0)
    # 然後畫直線到 (100, 0) 座標點
    ctx.strokeStyle = "red"
    ctx.lineTo(100, 0)
    ctx.lineTo(90, 10)
    ctx.stroke()
    ctx.closePath()

    ctx.beginPath()
    # 畫右上左下的斜線
    ctx.moveTo(0, 0)
    ctx.strokeStyle = "green"
    ctx.lineTo(0, 100)
    ctx.lineTo(10, 90)
    # 設定顏色為藍色, 也可以使用 "rgb(0, 0, 255)" 字串設定顏色值
    #ctx.strokeStyle = "blue"
    # 實際執行畫線
    ctx.stroke()
    ctx.closePath()

axises(ctx)
# 以下可以利用 ctx 物件進行畫圖
# 先畫一條直線
ctx.beginPath()
# 設定線的寬度為 1 個單位
ctx.lineWidth = 1
# 將畫筆移動到 (100, 100) 座標點
ctx.moveTo(100, 100)
# 然後畫直線到 (150, 200) 座標點
ctx.lineTo(150, 200)
# 畫右上左下的斜線
ctx.moveTo(150, 100)
ctx.lineTo(100, 200)
# 設定顏色為藍色, 也可以使用 "rgb(0, 0, 255)" 字串設定顏色值
ctx.strokeStyle = "blue"
# 實際執行畫線
ctx.stroke()
ctx.closePath()
&lt;/script&gt;

&lt;p&gt;以上為 canvas1, 座標軸 x 向右為正, y 向下為正.
&lt;hr&gt;&lt;/p&gt;
&lt;canvas id="canvas2" width="600" height="400"&gt;&lt;/canvas&gt;

&lt;script type="text/python3"&gt;
from browser import document
import script1
import math
# 準備繪圖畫布
canvas = document["canvas2"]
ctx = canvas.getContext("2d")
#ctx.save()
#ctx.transform(1, 0, 0, -1, 0, canvas.height)

def background(x, y, xinc, yinc, xnum, ynum, ctx):
    # 水平線
    for i in range(ynum+1):
        ctx.beginPath()
    # 設定線的寬度為 1 個單位
        if i == 0:
            ctx.lineWidth = 7
        else:
            ctx.lineWidth = 1
        ctx.moveTo(x-1, y+i*yinc)
        ctx.lineTo(x+xnum*xinc+1, y+i*yinc)
        # 設定顏色為藍色, 也可以使用 "rgb(0, 0, 255)" 字串設定顏色值
        ctx.strokeStyle = "blue"
        ctx.stroke()
        ctx.closePath()

    # 垂直線
    for i in range(xnum+1):
        ctx.beginPath()
    # 設定線的寬度為 1 個單位
        ctx.lineWidth = 1
        ctx.moveTo(x+i*xinc, y)
        ctx.lineTo(x+i*xinc, y+ynum*yinc)
        # 設定顏色為藍色, 也可以使用 "rgb(0, 0, 255)" 字串設定顏色值
        ctx.strokeStyle = "blue"
        ctx.stroke()
        ctx.closePath()

def newCoord(x, y):
    global canvas
    newy = canvas.height - y
    return x, newy

def canvasText(x, y, fontSize, string, sup, sub, center, color, ctx):
    #ctx.restore()
    #x, y = newCoord(x, y)
    ctx.beginPath()
    ctx.fillStyle = color
    ctx.strokeStyle = color
    #ctx.font = "20px Arial"
    ctx.font = str(fontSize)+ "px Arial"
    if center != "":
        ctx.fillText(string, x+fontSize/float(center), y)
    else:
        ctx.fillText(string, x, y)
    ctx.font = str(fontSize-8)+ "px Arial"
    if sup != "":
        ctx.fillText(sup, x+fontSize/1.6, y-fontSize/2)
    if sub != "":
        ctx.fillText(sub, x+fontSize/1.6, y+fontSize/4)
    ctx.fill()
    ctx.stroke()
    ctx.closePath()

def canvasDot(x, y, r, color, ctx):
    #ctx.restore()
    #x, y = newCoord(x, y)
    ctx.beginPath()
    #ctx.fillStyle = 'black'
    ctx.fillStyle = color
    #ctx.strokeStyle = "black"
    ctx.strokeStyle = color
    #ctx.arc(50, 80, 9, 0, 2*math.pi, False)
    ctx.arc(x, y, r, 0, 2*math.pi, False)
    # 為了疊上各把位的音名, 暫時不填色
    ctx.fill()
    ctx.stroke()

w = 20
h = 30
script1.axises(ctx)
background(100, 100, w, h, 5, 5, ctx)
mylist = ["E", "A", "D", "G", "B", "E"]
num = 0
for s in mylist:
    #canvasText(100,  80, 20, "A", "b", "", "", "black", ctx)
    canvasText(100+num*w,  80, 20, s, "", "", "", "black", ctx)
    num = num + 1

canvasText(100+num*w,  80, 20, "A", "b", "", "", "black", ctx)
num = num + 1
canvasText(100,  80+h*7, 20, "(", "", "", "2.5", "black", ctx)
inc = 18
canvasText(100+inc*1,  80+h*7, 20, "x", "2", "1", "", "black", ctx)
canvasText(100+inc*2,  80+h*7, 20, ",", "", "", "4", "black", ctx)
canvasText(100+inc*3,  80+h*7, 20, "y", "", "1", "", "black", ctx)
canvasText(100+inc*4,  80+h*7, 20, ")", "", "", "4", "black", ctx)
canvasDot(100+inc*1,  80+h*8, 5, "red", ctx)
&lt;/script&gt;

&lt;p&gt;以上為 canvas2, 座標軸 x 向右為正, y 向下為正.
&lt;hr&gt;&lt;/p&gt;
&lt;canvas id="canvas3" width="600" height="400"&gt;&lt;/canvas&gt;

&lt;script type="text/python3"&gt;
from browser import document
import script1
import math
# 準備繪圖畫布
canvas = document["canvas3"]
ctx = canvas.getContext("2d")
# save original state
ctx.save()
ctx.transform(1, 0, 0, -1, 0, canvas.height)

def newCoord(x, y):
    global canvas
    newy = canvas.height - y
    return x, newy

def background(x, y, xinc, yinc, xnum, ynum, ctx):
    # 水平線
    for i in range(ynum+1):
        ctx.beginPath()
    # 設定線的寬度為 1 個單位
        if i == 0:
            ctx.lineWidth = 7
        else:
            ctx.lineWidth = 1
        ctx.moveTo(x-1, y+i*yinc)
        ctx.lineTo(x+xnum*xinc+1, y+i*yinc)
        # 設定顏色為藍色, 也可以使用 "rgb(0, 0, 255)" 字串設定顏色值
        ctx.strokeStyle = "blue"
        ctx.stroke()
        ctx.closePath()

    # 垂直線
    for i in range(xnum+1):
        ctx.beginPath()
    # 設定線的寬度為 1 個單位
        ctx.lineWidth = 1
        ctx.moveTo(x+i*xinc, y)
        ctx.lineTo(x+i*xinc, y+ynum*yinc)
        # 設定顏色為藍色, 也可以使用 "rgb(0, 0, 255)" 字串設定顏色值
        ctx.strokeStyle = "blue"
        ctx.stroke()
        ctx.closePath()

def canvasText(x, y, fontSize, string, sup, sub, center, color, ctx):
    ctx.beginPath()
    ctx.fillStyle = color
    ctx.strokeStyle = color
    #ctx.font = "20px Arial"
    ctx.font = str(fontSize)+ "px Arial"
    if center != "":
        ctx.fillText(string, x+fontSize/float(center), y)
    else:
        ctx.fillText(string, x, y)
    ctx.font = str(fontSize-8)+ "px Arial"
    if sup != "":
        ctx.fillText(sup, x+fontSize/1.6, y-fontSize/2)
    if sub != "":
        ctx.fillText(sub, x+fontSize/1.6, y+fontSize/4)
    ctx.fill()
    ctx.stroke()
    ctx.closePath()

def canvasDot(x, y, r, color, ctx):
    ctx.beginPath()
    #ctx.fillStyle = 'black'
    ctx.fillStyle = color
    #ctx.strokeStyle = "black"
    ctx.strokeStyle = color
    #ctx.arc(50, 80, 9, 0, 2*math.pi, False)
    ctx.arc(x, y, r, 0, 2*math.pi, False)
    # 為了疊上各把位的音名, 暫時不填色
    ctx.fill()
    ctx.stroke()

w = 20
h = 30
# 畫座標軸線
script1.axises(ctx)
ctx.restore()
background(100, 100, w, h, 5, 5, ctx)
mylist = ["E", "A", "D", "G", "B", "E"]
num = 0
for s in mylist:
    #canvasText(100,  80, 20, "A", "b", "", "", "black", ctx)
    canvasText(100+num*w,  80, 20, s, "", "", "", "black", ctx)
    num = num + 1

ctx.save()
canvasText(100+num*w,  80, 20, "A", "b", "", "", "black", ctx)
num = num + 1
canvasText(100,  80+h*7, 20, "(", "", "", "2.5", "black", ctx)
inc = 18
canvasText(100+inc*1,  80+h*7, 20, "x", "2", "1", "", "black", ctx)
canvasText(100+inc*2,  80+h*7, 20, ",", "", "", "4", "black", ctx)
canvasText(100+inc*3,  80+h*7, 20, "y", "", "1", "", "black", ctx)
canvasText(100+inc*4,  80+h*7, 20, ")", "", "", "4", "black", ctx)
canvasDot(100+inc*1,  80+h*8, 5, "red", ctx)
&lt;/script&gt;

&lt;p&gt;以上為 canvas3, 座標軸 x 向右為正, y 向上為正.
&lt;hr&gt;&lt;/p&gt;
&lt;canvas id="canvas4" width="600" height="200"&gt;&lt;/canvas&gt;

&lt;script type="text/python3"&gt;
from browser import document
import math
# 準備繪圖畫布
canvas = document["canvas4"]
ctx = canvas.getContext("2d")

ctx.fillRect(0, 0, 150, 150) #Draw a rectangle with default settings
ctx.save() #Save the default state

ctx.fillStyle = '#09F' #Make changes to the settings
ctx.fillRect(15, 15, 120, 120) #Draw a rectangle with new settings

ctx.save() #Save the current state
ctx.fillStyle = '#FFF'; #Make changes to the settings
ctx.globalAlpha = 0.5 
ctx.fillRect(30, 30, 90, 90) #Draw a rectangle with new settings

ctx.restore() #Restore previous state
ctx.fillRect(45, 45, 60, 60) #Draw a rectangle with restored settings

ctx.restore() #Restore original state
ctx.fillRect(60, 60, 30, 30) #Draw a rectangle with restored settings
&lt;/script&gt;

&lt;!--
The first step is to draw a large rectangle with the default settings. Next we save this state and make changes to the fill color. We then draw the second and smaller blue rectangle and save the state. Again we change some drawing settings and draw the third semi-transparent white rectangle.

So far this is pretty similar to what we've done in previous sections. However once we call the first restore() statement, the top drawing state is removed from the stack, and settings are restored. If we hadn't saved the state using save(), we would need to change the fill color and transparency manually in order to return to the previous state. This would be easy for two properties, but if we have more than that, our code would become very long, very fast.

When the second restore() statement is called, the original state (the one we set up before the first call to save) is restored and the last rectangle is once again drawn in black.
--&gt;

&lt;h2&gt;W1 實習任務&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;請自行分組每班分為八組, 各組協調後每一位組員均採固定座位就坐, 請各組設法列出各組員座位圖後, 以全班協同方式直接在各組網誌上呈現各組員學號與座位圖, 以 a 班為例, 各組倉儲名稱分別為 2017springcd_ag1~2017springcd_ag8, 各組的網誌中均必須設法呈現全班的電腦教室座位圖. (問題: 有沒有辦法在每週上課後第1堂下課之前, 在各組網誌上呈現當週各學員的出席情況與座次表?)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;各組必須準備一個隨身硬碟儲存下載的可攜系統, 並且分別下載 &lt;a href="http://service.mde.tw/public/tiny2017_50MB.7z"&gt;tiny2017_50MB.7z&lt;/a&gt;, 以及 &lt;a href="http://service.mde.tw/public/tiny2017_1GB.7z"&gt;tiny2017_1GB.7z&lt;/a&gt;, 各組期中簡報時, 必須說明如何從最基本的 50MB 系統逐一納入各類工具得到 1GB 的最終可攜系統. (問題: 各組員會不會從無到有, 自行打造此一可攜程式系統?)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;每四組將分配一台電腦當作區網協同伺服主機, 請各組分別指派一名組員負責, 向助教報到, 以便學習如何搭建區域網路上的 Fossil SCM 協同主機, 並負責為各組員建立及管理相關帳號. (問題: 各組有沒有能力自行維護區域網路上的協同產品設計主機?)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;本學期課程將會使用 Github, Bitbucket, Vimeo, Youtube, Fossil SCM (由各組自行建立) 與 Onshape 等系統, 請各組員確定已經利用學號作為代號, 擁用各系統的擷取帳號. (問題: 如何呈現階段性的設計實習成果?)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;請各組員確認已經會在 Solvespace 與 Onshape 中完成四連桿機構的組立, 並且輸出 stl 格式檔案後, 輸入 V-rep 中. (課程終極目標: 本課程將嘗試從電腦輔助機械設計進入運動模擬, 納入簡單的機電整合與傳動, 最後期望每班協同模擬並列印組立出兩台四足行走機構)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;本學期每週上課結束前, 各組均必須直接在 Github Page 中以 Reveal.js 格式, 完成各週的協同實習簡報檔, 其中包含各學員與各組任務執行進度與自評.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;請根據上述網際繪圖程式架構, 以 Brython 完成下列四連桿機構的示意繪圖:&lt;/p&gt;
&lt;p&gt;其中旋轉軸點為 A 座標為 (x1, y1), 旋轉軸端點為 B 座標為 (x2, y2), 第2連桿端點為 C 座標為 (x3, y3), 第3軸的固定端點則為 D 座標為 (x4, y4).&lt;/p&gt;
&lt;p&gt;另外, 以 A 點為起點的主動旋轉桿長為 d1, BC 連桿長為 d2, CD 桿長度為 d3, AD 桿長為 d4, BC 連桿上與旋轉路徑目標點 E 對應的點為 F, 與 B 點的距離為 d5, 與 E 點垂直距離為 d6, 主動旋轉軸的逆時鐘旋轉角度則為 t.&lt;/p&gt;
&lt;p&gt;此一平面四連桿的輸入為 x1, y1, x4, y4, d1, d2, d3, d5, d6, 以及 t, 輸出則為 E 點的運動路徑.&lt;/p&gt;
&lt;p&gt;&lt;img src="./../data/planar_fourbar_triangle.png" width="800" /&gt;&lt;/p&gt;
&lt;p&gt;利用 sympy 求解:&lt;/p&gt;
&lt;pre class="brush: python"&gt;
from sympy import *
'''
已知四連桿四個關鍵點座標分別為 A (x1, y1), B (x2, y2), C (x3, y3) 與 D (x4, y4)
且 E (x5, y5) 點相關參考x 座標距離為 d5, 而 y座標距離為 d6, 以及輸入角度逆時鐘轉 t 度
以 (x1, y1), (x4, y4), d1, d2, d3, d5, d6 及 t 等 10 個參數作為輸入, 
求 E 點座標 (x5, y5)
假設 AB 連桿長度為 d1, BC 連桿長度為 d2, CD 連桿長度為 d3, AD 距離為 d4
'''
x1, x2, x3, x4, x5 = symbols('x1 x2 x3 x4 x5')
y1, y2, y3, y4, y5 = symbols('y1 y2 y3 y4 y5')
d1, d2, d3, d4, d5, d6, t, t3 = symbols('d1 d2 d3 d4 d5 d6 t t3')
ah, bh, aj, dj, bd, hj, dk, bk = symbols('ah bh aj dj bd hj dk bk')
# angle daj defined as daj
daj, adj, bad, bcd, bdc, bdk = symbols('daj adj bad bcd bdc bdk')
# degree factor
degree, pi = symbols('degree pi')
degree = pi/180.0
# 假設 B 點的絕對 y 座標方向投影點為 H
d1 = sqrt((x1-x2)**2+(y1-y2)**2)
#print(d1)
d2 = sqrt((x2-x3)**2+(y2-y3)**2)
d3 = sqrt((x3-x4)**2+(y3-y4)**2)
d4 = sqrt((x1-x4)**2+(y1-y4)**2)
ah = d1*cos(t)
bh = sqrt(d1**2 - ah**2)
aj = Abs(x4-x1)
dj = Abs(y4-y1)
dk = aj - ah
bk =  bh - dj
t3 = bdc + bdk
# for daj, dj**2 = d4**2+aj**2 -2*d4*aj*cos(daj)
pos = 1
if pos == 1:
    daj = solve(-dj**2+d4**2+aj**2 -2*d4*aj*cos(daj), daj)[0]
else:
    daj = solve(-dj**2+d4**2+aj**2 -2*d4*aj*cos(daj), daj)[1]
#print(daj)
# for adj, aj**2=d4**2+dj**2-2*d4*aj*cos(adj)
if pos == 1:
    adj = solve(-aj**2+d4**2+dj**2-2*d4*aj*cos(adj), adj)[0]
else:
    adj = solve(-aj**2+d4**2+dj**2-2*d4*aj*cos(adj), adj)[0]
#print(adj)
bad = t*degree - daj
# according triangle tad find bd
#bd**2 = d1**2+d4**2-2*d1*d4*cos(bad)
if pos == 1:
    bd = solve(-bd**2+d1**2+d4**2-2*d1*d4*cos(bad), bd)[0]
else:
    bd = solve(-bd**2+d1**2+d4**2-2*d1*d4*cos(bad), bd)[1]
print(bd)

if pos == 1:
    bcd = solve(-bd**2+d2**2+d3**2-2*d2*d3*cos(bcd), bcd)[0]
else:
    bcd = solve(-bd**2+d2**2+d3**2-2*d2*d3*cos(bcd), bcd)[1]

if pos == 1:
    bdk = solve(-bk**2+bd**2+dk**2-2*bd*dk*cos(bdk), bdk)[0]
else:
    bdk = solve(-bk**2+bd**2+dk**2-2*bd*dk*cos(bdk), bdk)[1]

if pos == 1:
    bdc = solve(-d2**2+d3**2+bd**2-2*d3*bd*cos(bdc), bdc)[0]
else:
    bdc = solve(-d2**2+d3**2+bd**2-2*d3*bd*cos(bdc), bdc)[1]
print(t3)
&lt;/pre&gt;</summary><category term="brython"></category><category term="w1"></category></entry><entry><title>Fossil SCM 簡介</title><link href="./intro-fossil-scm.html" rel="alternate"></link><published>2017-02-17T11:00:00+08:00</published><updated>2017-02-17T11:00:00+08:00</updated><author><name>yen</name></author><id>tag:,2017-02-17:./intro-fossil-scm.html</id><summary type="html">&lt;p&gt;Fossil SCM 是一套軟體配置管理 (Software Configuration Management) 系統, 其中包含分散式版次控管 (DVC, Distributed Version Control) 、&lt;a href="http://fossil-scm.org/xfer/doc/trunk/www/wikitheory.wiki"&gt;Wiki&lt;/a&gt; 、&lt;a href="http://fossil-scm.org/xfer/doc/trunk/www/bugtheory.wiki"&gt;Bug Tracking&lt;/a&gt; 與 &lt;a href="http://fossil-scm.org/xfer/doc/trunk/www/event.wiki"&gt;Technote&lt;/a&gt; 等功能, 可以用來控制及追蹤軟體開發專案, 並且紀錄專案開發歷程, 在協同產品設計實習課程中, 我們除了使用 git、github 與 bitbucket 之外, 將要在區域網路與系上主幹中, 配置每班兩台的 Fossil SCM 實習主機.&lt;/p&gt;


&lt;h2&gt;Fossil SCM&lt;/h2&gt;
&lt;h3&gt;Fossil Concepts&lt;/h3&gt;
&lt;p&gt;check-in - 簽入版本: 對所開發的軟體進行改版後, 簽入倉儲的版本, 稱為簽入版本.&lt;/p&gt;
&lt;p&gt;repository - 倉儲: 包含開發專案歷程中, 所有簽入版本檔案的資料庫, 稱為倉儲.&lt;/p&gt;
&lt;p&gt;建立新倉儲&lt;/p&gt;
&lt;p&gt;可以使用 &lt;a href="http://fossil-scm.org/index.html/help?cmd=new"&gt;fossil new&lt;/a&gt; 或 &lt;a href="http://fossil-scm.org/index.html/help?cmd=init"&gt;fossil init&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;fossil new foo.fossil&lt;/p&gt;
&lt;p&gt;or &lt;/p&gt;
&lt;p&gt;fossil init foo.fossil&lt;/p&gt;
&lt;p&gt;表示建立一個新的倉儲專案, 且倉儲檔案名稱為 foo.fossil, 在 fossil SCM 中建立新專案時, 登入用戶名稱會成為內定的倉儲管理者, 若要指定管理者名稱, 可以附加 -A USERNAME 或 --admin-user USERNAME, 新增的倉儲就會以 USERNAME 作為管理者名稱, 且指定對應的密碼 (有關 &lt;a href="http://fossil-scm.org/xfer/doc/trunk/www/password.wiki"&gt;fossil 密碼管理&lt;/a&gt;), 當使用者在近端以網際模式啟動該倉儲時 (以 &lt;a href="http://fossil-scm.org/index.html/help?cmd=ui"&gt;fossil ui&lt;/a&gt; 指令) fossil SCM 會直接以管理者身份登入, 無需輸入管理者密碼.&lt;/p&gt;
&lt;p&gt;由於 fossil SCM 的倉儲格式為 Sqlite3 資料庫檔案, 因此利用 fossil init foo.fossil 建立倉儲後, 可以利用 sqlite3 工具查驗資料庫中的欄位資料.&lt;/p&gt;
&lt;p&gt;首先以 sqlite3 工具指令開啟 foo.fossil 資料庫檔案, 進入 sql 指令環境:&lt;/p&gt;
&lt;p&gt;sqlite3 foo.fossil&lt;/p&gt;
&lt;p&gt;接著以 .schema user 查詢 user 資料表的欄位名稱, 然後直接讀取資料表中 login, pw 與 info 欄位中的資料:&lt;/p&gt;
&lt;pre class="brush: jscript"&gt;
.schema user
select login, pw, info from user;
&lt;/pre&gt;

&lt;p&gt;其中可以發現 fossil SCM 已經使用 SHA1 hash 編碼使用者帳號對應的登入密碼, 但是當使用者 &lt;a href="http://fossil-scm.org/index.html/help?cmd=clone"&gt;fossil clone&lt;/a&gt; 遠端倉儲到近端時, fossil SCM 會自動以明碼設定倉儲原管理者對應的管理密碼, 且在 fossil clone 結束後, 直接顯示在命令列視窗中 .&lt;/p&gt;
&lt;h3&gt;clone&lt;/h3&gt;
&lt;pre class="brush: jscript"&gt;
$ fossil clone http://your_domain_name ~/fossils/yourdb.fossil
$ fossil open ~/fossils/foo.fossil
&lt;/pre&gt;

&lt;h3&gt;add a file&lt;/h3&gt;
&lt;pre class="brush: jscript"&gt;
$ fossil add yourfile.txt
&lt;/pre&gt;

&lt;p&gt;git 分支流程模型&lt;/p&gt;
&lt;p&gt;&lt;a href="http://nvie.com/posts/a-successful-git-branching-model/"&gt;http://nvie.com/posts/a-successful-git-branching-model/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Fossil SCM concept&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.fossil-scm.org/xfer/doc/tip/www/concepts.wiki"&gt;https://www.fossil-scm.org/xfer/doc/tip/www/concepts.wiki&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Why Fossil SCM?&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;單一檔案工具與單一檔案倉儲上的簡單便捷&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;版本倉儲 (repository) 可以不在工作目錄 (working directory) 中, 因此使用者可以從同一個版本倉儲, 在不同目錄中, 簽出多個版本的工作空間, 因此具有伺服器版本控制系統 (server vcs) 與分散式版次控制系統 (dvcs) 的彈性與優點.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;開發歷程不可變更 (因為不提供 rebase 功能), 是優點, 也是許多人認為的缺點.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;小團隊更適合使用 Fossil SCM&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;內建網際伺服器支援團隊間的協同合作, 不僅內建提供 wiki, blog, issue tracking, 而且可以在近端修改這些工具所管理的內容後, 提交推送到遠端.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;缺乏 submodule (而是採 nested path 呈現), rebase 與 code review 整合功能&lt;/p&gt;
&lt;h3&gt;git to fossil:&lt;/h3&gt;
&lt;pre class="brush: jscript"&gt;
cd git-repo
git fast-export --all | fossil import --git new-repo.fossil
&lt;/pre&gt;

&lt;h3&gt;fossil to git:&lt;/h3&gt;
&lt;pre class="brush: jscript"&gt;
git init new-repo
cd new-repo
fossil export --git ../repo.fossil | git fast-import
&lt;/pre&gt;

&lt;h3&gt;fossil 與 git 雙向同步:&lt;/h3&gt;
&lt;p&gt;Bidirectional Synchronization&lt;/p&gt;
&lt;p&gt;Fossil also has the ability to synchronize with a Git repository via repeated imports and/or exports. To do this, it uses marks files to store a record of artifacts which are known by both Git and Fossil to exist at a given point in time.&lt;/p&gt;
&lt;p&gt;To illustrate, consider the example of a remote Fossil repository that a user wants to import into a local Git repository. First, the user would clone the remote repository and import it into a new Git repository:&lt;/p&gt;
&lt;pre class="brush: jscript"&gt;
fossil clone /path/to/remote/repo.fossil repo.fossil
mkdir repo
cd repo
fossil open ../repo.fossil
mkdir ../repo.git
cd ../repo.git
git init .
fossil export --git --export-marks ../repo/fossil.marks  \
       ../repo.fossil | git fast-import                  \
       --export-marks=../repo/git.marks
&lt;/pre&gt;

&lt;p&gt;Once the import has completed, the user would need to git checkout trunk. At any point after this, new changes can be imported from the remote Fossil repository:&lt;/p&gt;
&lt;pre class="brush: jscript"&gt;
cd ../repo
fossil pull
cd ../repo.git
fossil export --git --import-marks ../repo/fossil.marks  \
       --export-marks ../repo/fossil.marks               \
       ../repo.fossil | git fast-import                  \
       --import-marks=../repo/git.marks                  \
       --export-marks=../repo/git.marks
&lt;/pre&gt;

&lt;p&gt;Changes in the Git repository can be exported to the Fossil repository and then pushed to the remote:&lt;/p&gt;
&lt;pre class="brush: jscript"&gt;
git fast-export --import-marks=../repo/git.marks                  \
    --export-marks=../repo/git.marks --all | fossil import --git  \
    --incremental --import-marks ../repo/fossil.marks             \
    --export-marks ../repo/fossil.marks ../repo.fossil
cd ../repo
fossil push
&lt;/pre&gt;

&lt;h2&gt;Fossil SCM 一般操作&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://www.gaia-gis.it/gaia-sins/about-fossil.html"&gt;http://www.gaia-gis.it/gaia-sins/about-fossil.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;fossil clone https://www.gaia-gis.it/fossil/librasterlite \
    librasterlite.fossil&lt;/p&gt;
&lt;p&gt;或者 &lt;/p&gt;
&lt;p&gt;fossil clone https://user:password@www.gaia-gis.it/fossil/librasterlite \
    librasterlite.fossil&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;將倉儲內容開啟, 放入工作目錄中&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class="brush: jscript"&gt;
$ mkdir librasterlite
$ cd librasterlite
$ fossil open ../librasterlite.fossil
&lt;/pre&gt;

&lt;ol&gt;
&lt;li&gt;對工作目錄中的檔案改版後, 查詢改版情形&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;fossil status&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;選擇編輯器, 提交版本至遠端倉儲後關閉&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class="brush: jscript"&gt;
$ export "EDITOR=vi"
$ fossil commit
$ fossil close
&lt;/pre&gt;

&lt;ol&gt;
&lt;li&gt;其他 Fossil SCM 指令: &lt;a href="http://fossil-scm.org/index.html/help"&gt;http://fossil-scm.org/index.html/help&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Fossil SCM 特色:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Integrated Bug Tracking, Wiki, and Technotes&lt;/li&gt;
&lt;li&gt;Built-In Web Interface&lt;/li&gt;
&lt;li&gt;Self-Contained&lt;/li&gt;
&lt;li&gt;Simple Networking&lt;/li&gt;
&lt;li&gt;CGI/SCGI Enabled&lt;/li&gt;
&lt;li&gt;Autosync&lt;/li&gt;
&lt;li&gt;Robust &amp;amp; Reliable&lt;/li&gt;
&lt;li&gt;Free and Open-Source&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Fossil (4 MB) 只需要 zlib 與 stunnel (4MB), 就可以充分使用, 但是 git 則需要許多程式庫與套件才能執行 (200 MB)&lt;/p&gt;
&lt;h2&gt;參考資料&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://www.fredshack.com/docs/fossil.html"&gt;http://www.fredshack.com/docs/fossil.html&lt;/a&gt;&lt;/p&gt;</summary><category term="fossil-scm"></category><category term="w2"></category></entry><entry><title>V-rep 簡介</title><link href="./vrep-introduction.html" rel="alternate"></link><published>2017-02-09T11:00:00+08:00</published><updated>2017-02-09T11:00:00+08:00</updated><author><name>yen</name></author><id>tag:,2017-02-09:./vrep-introduction.html</id><summary type="html">&lt;p&gt;V-rep (Virtual robot experimentation platform)&lt;/p&gt;


&lt;h2&gt;V-rep Overview&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://www.coppeliarobotics.com/assets/v-repoverviewpresentation.pdf"&gt;http://www.coppeliarobotics.com/assets/v-repoverviewpresentation.pdf&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;V-rep Licenses&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://www.coppeliarobotics.com/assets/v-replicensingoverview.pdf"&gt;http://www.coppeliarobotics.com/assets/v-replicensingoverview.pdf&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;User Settings:&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://www.coppeliarobotics.com/helpFiles/en/settings.htm"&gt;http://www.coppeliarobotics.com/helpFiles/en/settings.htm&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Scene&lt;/h2&gt;
&lt;p&gt;.ttt&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.coppeliarobotics.com/helpFiles/en/scenes.htm"&gt;http://www.coppeliarobotics.com/helpFiles/en/scenes.htm&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Each scene in V-REP has eight freely configurable pages. Individual pages can be accessed (i.e. displayed) through the page selector toolbar button:&lt;/p&gt;
&lt;h2&gt;Model&lt;/h2&gt;
&lt;p&gt;.ttm&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.coppeliarobotics.com/helpFiles/en/models.htm"&gt;http://www.coppeliarobotics.com/helpFiles/en/models.htm&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;Build clean model&lt;/h3&gt;
&lt;p&gt;&lt;a href="http://www.coppeliarobotics.com/helpFiles/en/buildingAModelTutorial.htm"&gt;http://www.coppeliarobotics.com/helpFiles/en/buildingAModelTutorial.htm&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Shapes:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.coppeliarobotics.com/helpFiles/en/shapes.htm"&gt;http://www.coppeliarobotics.com/helpFiles/en/shapes.htm&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Object common properties:&lt;/p&gt;
&lt;p&gt;Selectable: indicates whether the object can be selected in the scene. Objects can always be selected in the scene hierarchy. Refer also to the simSetObjectProperty function.&lt;/p&gt;
&lt;p&gt;Invisible during selection: when enabled, then the object will be invisible for the selection process (i.e. you will be able to select through the object).&lt;/p&gt;
&lt;p&gt;Ignored by depth pass: when enabled, then the object will be ignored during the depth rendering pass. The depth rendering pass is used to correctly position the red sphere for camera movements.&lt;/p&gt;
&lt;p&gt;Select base of model instead: if enabled, then selecting the object in the scene will select its first parented object marked as object is model base instead (see further down). This property is convenient when protecting a model from faulty manipulations, allowing it to be manipulated as a single entity together with other objects. Refer to the section on models and also to the simSetObjectProperty function. &lt;/p&gt;
&lt;p&gt;Don't show as inside model selection: when selected, and the object is part of a model, then the model bounding box (i.e. model selection bounding box) will not encompass that object. This is useful for invisible objects that might make the model bounding box appear too big. This property has no functional effect. Refer also to the simSetObjectProperty function.&lt;/p&gt;
&lt;p&gt;Size factor: every object can be scaled (resized) at any time, also during simulation. The size factor will be scaled in a similar way and can be accessed programmatically in order to adjust a code's behavior (e.g. child script). Imagine a 2-wheeled kinematic robot whose movement is controlled in a simple way through a &lt;/p&gt;
&lt;p&gt;child script: the child script will calculate the new position of the robot according to several parameters (wheel rotation velocity, wheel diameter and distance between the two wheels). If the user scales the robot, the child script should adjust its calculation according to the new size parameters (wheel diameter and distance between the two wheels). It can do that by using the simGetObjectSizeFactor API function.&lt;/p&gt;
&lt;p&gt;Ignored for view-fitting: objects with this item selected will not be taken into account when fitting a scene to a view while no object is selected. Usually floors and similar will be tagged as such. Refer also to the view fitting toolbar button and to the simCameraFitToView api function.&lt;/p&gt;
&lt;p&gt;Extension string: a string that describes additional object properties, mainly used by extension plugins (see also the simGetExtensionString API function).&lt;/p&gt;
&lt;p&gt;Camera visibility layers: each object in V-REP can be assigned to one or several visibility layers. If there is at least one visibility layer that matches the layer selection dialog layers, then the object will be visible when seen from a camera. By default, a shape is assigned to the first layer, a joint to the second layer, a dummy to the third layer, etc.&lt;/p&gt;
&lt;p&gt;Can be seen by: allows to specify a camera or vision sensor (or a collection containing cameras or vision sensors) that will be the only one able to see the object.&lt;/p&gt;
&lt;p&gt;Collidable: allows enabling or disabling collision detection capability for the selected collidable object.&lt;/p&gt;
&lt;p&gt;Measurable: allows enabling or disabling minimum distance calculation capability for the selected measurable object.&lt;/p&gt;
&lt;p&gt;Detectable: allows enabling or disabling proximity sensor detection capability for the selected detectable object. Clicking details allows you to edit the detectable details.
Renderable: allows enabling or disabling the vision sensor detection capability for the selected renderable object.&lt;/p&gt;
&lt;p&gt;Cuttable: allows enabling or disabling the mill cutting capability for the selected cuttable object.&lt;/p&gt;
&lt;p&gt;Object is model base: indicates whether the object should act as the base of a model. An object flagged as base of model has special properties (e.g. saving or copying the object will also automatically save/copy all its children and children's children, etc.). Additionally, when such an object is selected, the selection bounding box is displayed as thick stippled lines, encompassing the whole model. Refer to models, and to the select base of model instead item above.&lt;/p&gt;
&lt;p&gt;Edit model properties: allows opening the model dialog.
Object / model can transfer or accept DNA: when this feature is enabled for an object or a model, then it will share a same identifier with all of its copies. An Object or model can then transfer its DNA (i.e. copy an instance of itself) to all of its siblings (i.e. objects/models with the same identifier), via the transfer DNA toolbar button. Imagine having 100 same robots in your scene that you want to modify in a similar way: simply modify one of them, select it, then click the transfer DNA toolbar button. This item should almost always be checked for a model base (see further up), to facilitate model re-instanciation.&lt;/p&gt;
&lt;p&gt;Main script:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.coppeliarobotics.com/helpFiles/en/mainScript.htm"&gt;http://www.coppeliarobotics.com/helpFiles/en/mainScript.htm&lt;/a&gt;editor&lt;/p&gt;
&lt;p&gt;Child scripts:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.coppeliarobotics.com/helpFiles/en/childScripts.htm"&gt;http://www.coppeliarobotics.com/helpFiles/en/childScripts.htm&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Joints&lt;/h2&gt;
&lt;p&gt;Dynamically enabled joints are joints that are in force or torque mode or that operate in hybrid fashion, and that have a shape as parent object and exactly one child object which must be a non-static shape. In addition, it is possible to involve a joint in a loop closure configuration. In that case the joint has to connect to the two shapes through a dummy-dummy link (where the link type has to be Dynamics, overlap constraint). &lt;/p&gt;
&lt;p&gt;Joint properties:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.coppeliarobotics.com/helpFiles/en/jointProperties.htm"&gt;http://www.coppeliarobotics.com/helpFiles/en/jointProperties.htm&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Joint dynamic properties:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.coppeliarobotics.com/helpFiles/en/jointDynamicsProperties.htm"&gt;http://www.coppeliarobotics.com/helpFiles/en/jointDynamicsProperties.htm&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Joint control callback functions:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.coppeliarobotics.com/helpFiles/en/jointCtrlCallbackScripts.htm"&gt;http://www.coppeliarobotics.com/helpFiles/en/jointCtrlCallbackScripts.htm&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;利用 Python remote API 設定 Joints 變數:&lt;/p&gt;
&lt;p&gt;For the simxSetJointPosition function to work, the joint should not be in force/torque mode. If the joint is in force/torque mode, the motor enabled, and the position control enabled, then use the simxSetJointTargetPosition instead. Also make sure the joint is dynamically enabled.&lt;/p&gt;
&lt;p&gt;參考程式:&lt;/p&gt;
&lt;pre class="brush: python"&gt;
try:
    import vrep
except:
    print ('--------------------------------------------------------------')

import time


def connectVREP():
  vrep.simxFinish(-1) # just in case, close all opened connections
  clientID=vrep.simxStart('127.0.0.1',19999,True,True,5000,5) # Connect to V-REP
  if clientID!=-1:
    print ('Connected Remote Api')
    vrep.simxStartSimulation(clientID,vrep.simx_opmode_oneshot_wait)

    vrep.simxSynchronous(clientID,True)
    return clientID
  else:
    print ('ERROR! Error connecting Remote Api')
    sys.exit(0);

def startSim(clientID):
  vrep.simxStartSimulation(clientID,vrep.simx_opmode_oneshot)

def stopSim(clientID):
  vrep.simxStopSimulation(clientID,vrep.simx_opmode_oneshot_wait)

def disconnectVREP(clientID):
  # Now close the connection to V-REP:
  vrep.simxFinish(clientID)
  print('Connection finished')


clientID=connectVREP()


ret,joint1_handler = vrep.simxGetObjectHandle(\
  clientID,"redundantRob_joint1",vrep.simx_opmode_oneshot_wait)
ret,joint1 = vrep.simxGetJointPosition(\
  clientID,joint1_handler,vrep.simx_opmode_streaming)

ret,joint2_handler = vrep.simxGetObjectHandle(\
  clientID,"redundantRob_joint2",vrep.simx_opmode_oneshot_wait)
ret,joint2 = vrep.simxGetJointPosition(\
  clientID,joint2_handler,vrep.simx_opmode_streaming)

startSim(clientID)

ret,joint1 = vrep.simxGetJointPosition(\
  clientID,joint1_handler,vrep.simx_opmode_buffer)
print joint1  #Get position joint 1
ret,joint2 = vrep.simxGetJointPosition(\
  clientID,joint2_handler,vrep.simx_opmode_buffer)
print joint2 #Get position joint 2

ret = vrep.simxSetJointPosition(\
  clientID,joint1_handler,pi/2,vrep.simx_opmode_oneshot)  #Set pi/2 to joint 1

time.sleep(2)

stopSim(clientID)

time.sleep(1)

disconnectVREP(clientID)       
&lt;/pre&gt;

&lt;p&gt;利用 remote API 執行緒程式設定 Joint 變數:&lt;/p&gt;
&lt;pre class="brush: python"&gt;
import threading
import time
import sys
import traceback

sys.path.insert(0, 'C:\\Program Files\\V-REP3\\V-REP_PRO_EDU\\programming\\Python')
import vrep

class Joint(threading.Thread):
    def __init__(self, joint_name, port):
        threading.Thread.__init__(self)
        self.client_id = -1
        self.port = port
        self.joint_name = joint_name

    def run(self):
        try:
            # connect to V-REP server
            self.client_id = vrep.simxStart("127.0.0.1", self.port, False, True, 5000, 5)
            if self.client_id == -1:
                raise Exception('Failed to connect V-REP remote API server.')

            # get handle
            res, p = vrep.simxGetObjectHandle(self.client_id, self.joint_name.encode(), vrep.simx_opmode_oneshot_wait)
            if res == vrep.simx_error_noerror:
                print('[Joint %s] handle= %s' % (self.joint_name, p))
            else:
                raise Exception('Error in getting joint handles.')

        except Exception as e:
            print('[Joint %s] %s' % (self.joint_name, e.args[0]))
            traceback.print_exc()

        finally:
            # disconnect with V-REP server
            vrep.simxFinish(self.client_id)

if __name__ == "__main__":
    joints = [Joint("joint1", 19999), Joint("joint2", 19998)]
    for joint in joints:
        joint.start()
        time.sleep(0.1)
    time.sleep(1)
    for joint in joints:
        joint.join()
    print("Done")
&lt;/pre&gt;

&lt;p&gt;Dummy properties:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.coppeliarobotics.com/helpFiles/en/dummyPropertiesDialog.htm"&gt;http://www.coppeliarobotics.com/helpFiles/en/dummyPropertiesDialog.htm&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Dummy functions:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.coppeliarobotics.com/helpFiles/en/dummiesDescription.htm"&gt;http://www.coppeliarobotics.com/helpFiles/en/dummiesDescription.htm&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Loop closure:&lt;/p&gt;
&lt;p&gt;&lt;img src="http://www.coppeliarobotics.com/helpFiles/en/images/dynamicsDesign6.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;Dynamic simulations:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.coppeliarobotics.com/helpFiles/en/designingDynamicSimulations.htm#staticAndRespondable"&gt;http://www.coppeliarobotics.com/helpFiles/en/designingDynamicSimulations.htm#staticAndRespondable&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Motion planning:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.coppeliarobotics.com/helpFiles/en/motionPlanningModule.htm"&gt;http://www.coppeliarobotics.com/helpFiles/en/motionPlanningModule.htm&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Means of communication:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.coppeliarobotics.com/helpFiles/en/meansOfCommunication.htm"&gt;http://www.coppeliarobotics.com/helpFiles/en/meansOfCommunication.htm&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;V-rep API&lt;/h2&gt;
&lt;p&gt;Embedded scripts:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.coppeliarobotics.com/helpFiles/en/scripts.htm"&gt;http://www.coppeliarobotics.com/helpFiles/en/scripts.htm&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Lua crash course:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.coppeliarobotics.com/helpFiles/en/luaCrashCourse.htm"&gt;http://www.coppeliarobotics.com/helpFiles/en/luaCrashCourse.htm&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.lua.org/pil/contents.html"&gt;http://www.lua.org/pil/contents.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Access objects:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.coppeliarobotics.com/helpFiles/en/accessingGeneralObjects.htm"&gt;http://www.coppeliarobotics.com/helpFiles/en/accessingGeneralObjects.htm&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;V-rep API 函式列表:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.coppeliarobotics.com/helpFiles/en/apiFunctionListCategory.htm"&gt;http://www.coppeliarobotics.com/helpFiles/en/apiFunctionListCategory.htm&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;V-rep 外部控制方法:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.coppeliarobotics.com/helpFiles/en/externalControllerTutorial.htm"&gt;http://www.coppeliarobotics.com/helpFiles/en/externalControllerTutorial.htm&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;V-rep remote API 範例&lt;/h2&gt;
&lt;p&gt;根據 &lt;a href="http://www.coppeliarobotics.com/helpFiles/en/remoteApiServerSide.htm"&gt;http://www.coppeliarobotics.com/helpFiles/en/remoteApiServerSide.htm&lt;/a&gt; 中的說明.&lt;/p&gt;
&lt;p&gt;V-rep 啟動時, 會根據系統目錄下 remoteApiConnections.txt 檔案中的設定, 啟動  rempte api 功能.&lt;/p&gt;
&lt;p&gt;以下為 one-link robot 的 V-rep remote API 程式範例:&lt;/p&gt;
&lt;pre class="brush: python"&gt;
import vrep
import sys
# child threaded script: 
# 內建使用 port 19997 若要加入其他 port, 在  serve 端程式納入
#simExtRemoteApiStart(19999)

vrep.simxFinish(-1)

clientID = vrep.simxStart('127.0.0.1', 19997, True, True, 5000, 5)

if clientID!= -1:
    print("Connected to remote server")
else:
    print('Connection not successful')
    sys.exit('Could not connect')

errorCode,Revolute_joint_handle=vrep.simxGetObjectHandle(clientID,'Revolute_joint',vrep.simx_opmode_oneshot_wait)

if errorCode == -1:
    print('Can not find left or right motor')
    sys.exit()

errorCode=vrep.simxSetJointTargetVelocity(clientID,Revolute_joint_handle,2, vrep.simx_opmode_oneshot_wait)

while True:
    choice = input("(e to exit, p to pause and enter to exec)&gt;")
    if choice == "e":
        print("exiting")
        vrep.simxStopSimulation(clientID, vrep.simx_opmode_oneshot_wait)
        break
    elif choice == "p":
        vrep.simxPauseSimulation(clientID, vrep.simx_opmode_oneshot_wait)
    else:
        vrep.simxStartSimulation(clientID, vrep.simx_opmode_oneshot_wait)
&lt;/pre&gt;

&lt;h2&gt;V-rep Remote API 呼叫模式&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://www.coppeliarobotics.com/helpFiles/en/remoteApiModusOperandi.htm"&gt;http://www.coppeliarobotics.com/helpFiles/en/remoteApiModusOperandi.htm&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;當 V-rep remote API 需要送出資料讓三軸同動時:&lt;/p&gt;
&lt;pre class="brush: python"&gt;
simxPauseCommunication(clientID,1);
simxSetJointPosition(clientID,joint1Handle,joint1Value,simx_opmode_oneshot);
simxSetJointPosition(clientID,joint2Handle,joint2Value,simx_opmode_oneshot);
simxSetJointPosition(clientID,joint3Handle,joint3Value,simx_opmode_oneshot);
simxPauseCommunication(clientID,0);

// Above's 3 joints will be received and set on the V-REP side at the same time
&lt;/pre&gt;

&lt;p&gt;在 V-rep 端設定變數值:&lt;/p&gt;
&lt;p&gt;simSetIntegerSignal("mySignalName",42)&lt;/p&gt;
&lt;p&gt;之後, 可以從 client 端, 以 remote API streaming 模式取得該變數值:&lt;/p&gt;
&lt;p&gt;res,signalValue=simxGetIntegerSignal(clientId,"mySignalName", vrep.simx_opmode_streaming)&lt;/p&gt;
&lt;p&gt;當然, 也可以反方向, 從 V-rep 端取得 client 端的變數值.&lt;/p&gt;
&lt;p&gt;參考範例:&lt;/p&gt;
&lt;pre class="brush: python"&gt;
# Make sure to have the server side running in V-REP: 
# in a child script of a V-REP scene, add following command
# to be executed just once, at simulation start:
#
# simExtRemoteApiStart(19999)
#
# then start simulation, and run this program.
#
# IMPORTANT: for each successful call to simxStart, there
# should be a corresponding call to simxFinish at the end!

try:
    import vrep
except:
    print '--------------------------------------------------------------'
    print '"vrep.py" could not be imported. This means very probably that'
    print 'either "vrep.py" or the remoteApi library could not be found.'
    print 'Make sure both are in the same folder as this file,'
    print 'or appropriately adjust the file "vrep.py"'
    print '--------------------------------------------------------------'
    print ''

import time   

print ('Program started')
vrep.simxFinish(-1) # just in case, close all opened connections
clientID=vrep.simxStart('127.0.0.1',19999,True,True,5000,5) # Connect to V-REP
if clientID!=-1:
    print ('Connected to remote API server')

    # Now try to retrieve data in a blocking fashion (i.e. a service call):
    res,objs=vrep.simxGetObjects(clientID,vrep.sim_handle_all,vrep.simx_opmode_oneshot_wait)
    if res==vrep.simx_return_ok:
        print ('Number of objects in the scene: ',len(objs))
    else:
        print ('Remote API function call returned with error code: ',res)

    time.sleep(2)

    # Now retrieve streaming data (i.e. in a non-blocking fashion):
    startTime=time.time()   
    vrep.simxGetIntegerParameter(clientID,vrep.sim_intparam_mouse_x,vrep.simx_opmode_streaming) # Initialize streaming
    while time.time()-startTime &lt; 5:   
        returnCode,data=vrep.simxGetIntegerParameter(clientID,vrep.sim_intparam_mouse_x,vrep.simx_opmode_streaming) # Try to retrieve the streamed data
        if returnCode==vrep.simx_return_ok: # After initialization of streaming, it will take a few ms before the first value arrives, so check the return code
            print ('Mouse position x: ',data) # Mouse position x is actualized when the cursor is over V-REP's window

    # Now send some data to V-REP in a non-blocking fashion:
    vrep.simxAddStatusbarMessage(clientID,'Hello V-REP!',vrep.simx_opmode_oneshot)

    # Before closing the connection to V-REP, make sure that the last command sent out had time to arrive. You can guarantee this with (for example):
    vrep.simxGetPingTime(clientID)

    # Now close the connection to V-REP:   
    vrep.simxFinish(clientID)
else:
    print ('Failed connecting to remote API server')
print ('Program ended')
&lt;/pre&gt;

&lt;p&gt;V-rep Remote API 函式列表:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.coppeliarobotics.com/helpFiles/en/remoteApiFunctionListCategory.htm"&gt;http://www.coppeliarobotics.com/helpFiles/en/remoteApiFunctionListCategory.htm&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;V-rep 的 remote API 是以 V-rep plugin (動態連結程式庫) 的方式完成, 程式專案位於 programming/v_repExtRemoteApi 目錄中.&lt;/p&gt;
&lt;p&gt;V-rep remote API 可以進一步在 embedded script 程式中利用 Lua 程式進行延伸:&lt;/p&gt;
&lt;pre class="brush: python"&gt;
myFunctionName=function(inInts,inFloats,inStrings,inBuffer)
    -- inInts, inFloats and inStrings are tables
    -- inBuffer is a string

    -- Perform any type of operation here.

    -- Always return 3 tables and a string, e.g.:
    return {},{},{},''
end
&lt;/pre&gt;

&lt;p&gt;然後利用下列外部的 Python 程式進行呼叫:&lt;/p&gt;
&lt;pre class="brush: python"&gt;
inputInts=[1,2,3]
inputFloats=[53.21,17.39]
inputStrings=['Hello','world!']
inputBuffer=bytearray()
inputBuffer.append(78)
inputBuffer.append(42)
res,retInts,retFloats,retStrings,retBuffer=vrep.simxCallScriptFunction(clientID,'objectName',vrep.sim_scripttype_childscript,
                'myFunctionName',inputInts,inputFloats,inputStrings,inputBuffer,vrep.simx_opmode_blocking)
if res==vrep.simx_return_ok:
    print (retInts)
    print (retFloats)
    print (retStrings)
    print (retBuffer)
&lt;/pre&gt;

&lt;h3&gt;以 remote API 取 camera 影像&lt;/h3&gt;
&lt;pre class="brush: python"&gt;
from PIL import Image
import array

res, v0 = vrep.simxGetObjectHandle(clientID,'NAO_vision1',vrep.simx_opmode_oneshot_wait)

res, resolution, image = vrep.simxGetVisionSensorImage(clientID,v0,0,vrep.simx_opmode_streaming)

image_byte_array = array.array('b',image)
# image resolution is 256x144
im = Image.frombuffer("RGB", (256,144), image_byte_array, "raw", "RGB", 0, 1)
im.show()
&lt;/pre&gt;

&lt;p&gt;取影片:&lt;/p&gt;
&lt;pre class="brush: python"&gt;
import vrep,time,sys
import matplotlib.pyplot as plt
from PIL import Image
import array

def streamVisionSensor(visionSensorName,clientID,pause=0.0001):
    #Get the handle of the vision sensor
    res1,visionSensorHandle=vrep.simxGetObjectHandle(clientID,visionSensorName,vrep.simx_opmode_oneshot_wait)
    print(visionSensorHandle)
    #Get the image
    res2,resolution,image=vrep.simxGetVisionSensorImage(clientID,visionSensorHandle,0,vrep.simx_opmode_streaming)
    print(res2, res1)
    #Allow the display to be refreshed
    plt.ion()
    #Initialiazation of the figure
    time.sleep(0.5)
    res,resolution,image=vrep.simxGetVisionSensorImage(clientID,visionSensorHandle,0,vrep.simx_opmode_buffer)
    im = Image.new("RGB", (resolution[0], resolution[1]), "white")
    #Give a title to the figure
    fig = plt.figure(1)    
    fig.canvas.set_window_title(visionSensorName)
    #inverse the picture
    plotimg = plt.imshow(im,origin='lower')
    #Let some time to Vrep in order to let him send the first image, otherwise the loop will start with an empty image and will crash
    time.sleep(1)
    while (vrep.simxGetConnectionId(clientID)!=-1): 
        #Get the image of the vision sensor
        res,resolution,image=vrep.simxGetVisionSensorImage(clientID,visionSensorHandle,0,vrep.simx_opmode_buffer)
        #Transform the image so it can be displayed using pyplot
        image_byte_array = array.array('b',image)
        im = Image.frombuffer("RGB", (resolution[0],resolution[1]), image_byte_array, "raw", "RGB", 0, 1)
        #Update the image
        plotimg.set_data(im)
        #Refresh the display
        plt.draw()
        #The mandatory pause ! (or it'll not work)
        plt.pause(pause)
    print('End of Simulation')

if __name__ == '__main__':
    vrep.simxFinish(-1)
    clientID=vrep.simxStart('127.0.0.2',19999,True,True,5000,5)
    if clientID!=-1:
        print('Connected to remote API server')
        streamVisionSensor('NAO_vision1',clientID,0.0001)

    else:
        print('Connection non successful')
        sys.exit('Could not connect')
    &lt;/pre&gt;

&lt;h3&gt;Execute Complex Commands&lt;/h3&gt;
&lt;pre class="brush: python"&gt;
# This example illustrates how to execute complex commands from
# a remote API client. You can also use a similar construct for
# commands that are not directly supported by the remote API.
#
# Load the demo scene 'remoteApiCommandServerExample.ttt' in V-REP, then 
# start the simulation and run this program.
#
# IMPORTANT: for each successful call to simxStart, there
# should be a corresponding call to simxFinish at the end!
#
# When running Python 3.x, add a 'b' prefix to strings, e.g.:
# 'hello world' becomes b'hello world'

def getCmdString(id,cnt,data):
    l=12+len(data)
    retData=vrep.simxPackInts([id,cnt,l])
    return retData+data

def waitForCmdReply(cnt):
    while True:
        result,string=vrep.simxReadStringStream(clientID,'repliesToRemoteApiClient',vrep.simx_opmode_streaming)
        if result==vrep.simx_return_ok:
            while len(string)!=0:
                headerPacked=string[0:12]
                header=vrep.simxUnpackInts(headerPacked)
                if cnt==header[1]:
                    replyData=''
                    if header[2]&gt;12:
                        replyData=string[12:header[2]]
                    return replyData
                string=string[header[2]:len(string)]
try:
    import vrep
except:
    print ('--------------------------------------------------------------')
    print ('"vrep.py" could not be imported. This means very probably that')
    print ('either "vrep.py" or the remoteApi library could not be found.')
    print ('Make sure both are in the same folder as this file,')
    print ('or appropriately adjust the file "vrep.py"')
    print ('--------------------------------------------------------------')
    print ('')

import ctypes
print ('Program started')
vrep.simxFinish(-1) # just in case, close all opened connections
clientID=vrep.simxStart('127.0.0.1',19999,True,True,5000,5) # Connect to V-REP
if clientID!=-1:
    print ('Connected to remote API server')

    # Commands are send via the string signal 'commandsFromRemoteApiClient'.
    # Commands are simply appended to that string signal
    # Each command is coded in following way:
    # 1. Command ID (integer, 4 chars)
    # 2. Command counter (integer, 4 chars). Simply start with 0 and increment for each command you send
    # 3. Command length (integer, includes the command ID, the command counter, the command length, and the additional data (i.e. command data))
    # 4. Command data (chars, can be of any length, depending on the command)
    #
    # Replies are coded in a same way. An executed command should reply with the same command counter.
    # 
    # Above simple protocol is just an example: you could use your own protocol! (but it has to be the same on the V-REP side)

    # 1. First send a command to display a specific message in a dialog box:
    cmdID=1 # this command id means: 'display a text in a message box'
    cmdCnt=0
    cmdData='Hello world!'
    stringToSend=getCmdString(cmdID,cmdCnt,cmdData)
    raw_ubytes = (ctypes.c_ubyte * len(stringToSend)).from_buffer_copy(stringToSend)
    vrep.simxWriteStringStream(clientID,'commandsFromRemoteApiClient',raw_ubytes,vrep.simx_opmode_oneshot)
    print ('Return string: ',waitForCmdReply(cmdCnt)) # display the reply from V-REP (in this case, just a string)

    # 2. Now create a dummy object at coordinate 0.1,0.2,0.3:
    cmdID=2 # this command id means: 'create a dummy at a specific coordinate with a specific name'
    cmdCnt=cmdCnt+1
    cmdData='MyDummyName'+vrep.simxPackFloats([0.1,0.2,0.3])
    stringToSend=getCmdString(cmdID,cmdCnt,cmdData)
    raw_ubytes = (ctypes.c_ubyte * len(stringToSend)).from_buffer_copy(stringToSend)
    vrep.simxWriteStringStream(clientID,'commandsFromRemoteApiClient',raw_ubytes,vrep.simx_opmode_oneshot)
    replyData=waitForCmdReply(cmdCnt)
    print ('Dummy handle: ',vrep.simxUnpackInts(replyData)[0]) # display the reply from V-REP (in this case, the handle of the created dummy)

    # Now close the connection to V-REP:   
    vrep.simxFinish(clientID)
else:
    print ('Failed connecting to remote API server')
print ('Program ended')
&lt;/pre&gt;

&lt;p&gt;與上述 Client 端程式配合的  V-rep non-threaded child 程式碼:&lt;/p&gt;
&lt;pre class="brush: python"&gt;
if (sim_call_type==sim_childscriptcall_initialization) then
   simExtRemoteApiStart(19999)
end

if (sim_call_type==sim_childscriptcall_actuation) then
   local commands=simGetStringSignal('commandsFromRemoteApiClient') -- Read commands sent from a remote API client
   if commands then
      simClearStringSignal('commandsFromRemoteApiClient') -- Clear the signal
      -- Process the commands in following loop:
      while #commands&gt;0 do
         local cmdID=simUnpackInts(commands,0,1)[1]
         local cmdCounter=simUnpackInts(commands,1,1)[1]
         local cmdLength=simUnpackInts(commands,2,1)[1]
         local cmdData=''
         if cmdLength&gt;12 then
            cmdData=string.sub(commands,13,13+cmdLength-12)
         end
         commands=string.sub(commands,cmdLength+1) -- this contains the next commands

         -- Now process the command, and prepare a reply string signal:
         local reply=''
         if cmdID==1 then
            -- We have to process the command with ID 1, in this example, simply display a dialog box that prints the text stored in cmdData:
            simDisplayDialog('Message from the remote API client',cmdData,sim_dlgstyle_ok,false)
            reply='message was displayed'
         end
         if cmdID==2 then
            -- We have to process the command with ID 2, in this example, create a dummy object at coordinates specified in cmdData:
            local dummyHandle=simCreateDummy(0.05)
            local dummyNameSize=#cmdData-12 -- cmdData should contain the dummy name, plus the x/y/z coordinates
            local position=simUnpackFloats(cmdData,0,0,dummyNameSize)
            if dummyNameSize&gt;0 then
               local errorReportMode=simGetIntegerParameter(sim_intparam_error_report_mode)
               simSetIntegerParameter(sim_intparam_error_report_mode,0) -- temporarily suppress error output (because we are not allowed to have two times the same object name)
               simSetObjectName(dummyHandle,string.sub(cmdData,1,dummyNameSize))
               simSetIntegerParameter(sim_intparam_error_report_mode,errorReportMode) -- restore the original error report mode
            end
            simSetObjectPosition(dummyHandle,-1,position)
            reply=simPackInts({dummyHandle})
         end
         if cmdID==3 then
            -- You can add as many commands as needed
         end

         -- Now, before setting up the reply string, append the cmdID, and a reply length:
         local replyLength=12+#reply
         local replyFromOtherCommands=simGetStringSignal('repliesToRemoteApiClient')
         if not replyFromOtherCommands then
            replyFromOtherCommands=''
         end
         local totalReplySignal=replyFromOtherCommands..simPackInts({cmdID})..simPackInts({cmdCounter})..simPackInts({replyLength})..reply
         simSetStringSignal('repliesToRemoteApiClient',totalReplySignal) -- update the reply signal
      end
   end
end
&lt;/pre&gt;

&lt;h2&gt;Qt based custom UIs&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://www.coppeliarobotics.com/helpFiles/en/customUIPlugin.htm"&gt;http://www.coppeliarobotics.com/helpFiles/en/customUIPlugin.htm&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;V-rep Tutorials:&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://www.coppeliarobotics.com/helpFiles/en/bubbleRobTutorial.htm"&gt;http://www.coppeliarobotics.com/helpFiles/en/bubbleRobTutorial.htm&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.coppeliarobotics.com/helpFiles/en/buildingAModelTutorial.htm"&gt;http://www.coppeliarobotics.com/helpFiles/en/buildingAModelTutorial.htm&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.coppeliarobotics.com/helpFiles/en/lineFollowingBubbleRobTutorial.htm"&gt;http://www.coppeliarobotics.com/helpFiles/en/lineFollowingBubbleRobTutorial.htm&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Inverse Kinematics Tutorial&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://www.coppeliarobotics.com/helpFiles/en/inverseKinematicsTutorial.htm"&gt;http://www.coppeliarobotics.com/helpFiles/en/inverseKinematicsTutorial.htm&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.coppeliarobotics.com/helpFiles/en/hexapodTutorial.htm"&gt;http://www.coppeliarobotics.com/helpFiles/en/hexapodTutorial.htm&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.coppeliarobotics.com/helpFiles/en/externalControllerTutorial.htm"&gt;http://www.coppeliarobotics.com/helpFiles/en/externalControllerTutorial.htm&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.coppeliarobotics.com/helpFiles/en/pluginTutorial.htm"&gt;http://www.coppeliarobotics.com/helpFiles/en/pluginTutorial.htm&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.coppeliarobotics.com/helpFiles/en/conveyorBeltTutorial.htm"&gt;http://www.coppeliarobotics.com/helpFiles/en/conveyorBeltTutorial.htm&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Compiling V-rep&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://www.coppeliarobotics.com/helpFiles/en/compilingVrep.htm"&gt;http://www.coppeliarobotics.com/helpFiles/en/compilingVrep.htm&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;V-rep Other Interfaces&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://www.coppeliarobotics.com/helpFiles/en/otherInterfaces.htm"&gt;http://www.coppeliarobotics.com/helpFiles/en/otherInterfaces.htm&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Extra contributions:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.coppeliarobotics.com/contributions/"&gt;http://www.coppeliarobotics.com/contributions/&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;V-rep Forum&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://www.forum.coppeliarobotics.com/"&gt;http://www.forum.coppeliarobotics.com/&lt;/a&gt;&lt;/p&gt;</summary><category term="v-rep"></category><category term="w2"></category></entry><entry><title>網際 Brython 程式執行環境</title><link href="./brython-editor.html" rel="alternate"></link><published>2017-02-07T11:00:00+08:00</published><updated>2017-02-07T11:00:00+08:00</updated><author><name>yen</name></author><id>tag:,2017-02-07:./brython-editor.html</id><summary type="html">&lt;p&gt;Brython 程式環境可以用來練習許多 Python3 的簡單語法, 也可以納入 Javascript 程式庫, 利用 Ajax 模式結合網際瀏覽器與伺服器上的資源解決協同產品設計流程上的問題.&lt;/p&gt;


&lt;!-- 導入 FileSaver 與 filereader --&gt;

&lt;script type="text/javascript" src="./../ace/FileSaver.min.js"&gt;&lt;/script&gt;

&lt;script type="text/javascript" src="./../ace/filereader.js"&gt;&lt;/script&gt;

&lt;!-- 導入 Brython 標準程式庫 --&gt;

&lt;!-- &lt;script type="text/javascript" src="https://cdn.rawgit.com/brython-dev/brython/master/www/src/brython_dist.js"&gt;
&lt;/script&gt; --&gt;

&lt;!-- 為了讓 import script1 可以正確運行, 停留在 Brython 3.2.9 版 --&gt;

&lt;script type="text/javascript" src="https://cdn.rawgit.com/brython-dev/brython/3.2.9/www/src/brython_dist.js"&gt;
&lt;/script&gt;

&lt;!-- 啟動 Brython --&gt;

&lt;script&gt;
window.onload=function(){
brython(1);
}
&lt;/script&gt;

&lt;!-- 以下執行 Brython 程式 --&gt;

&lt;p&gt;列出 2017 Spring 協同產品設計實習課程日期之 Python 程式碼如下:&lt;/p&gt;
&lt;pre class="brush: python"&gt;
&lt;div id="cal2"&gt;&lt;/div&gt;
&lt;script type="text/python3"&gt;
from browser import document, html
import calendar
import locale

cal2 = document["cal2"]

def getClassdate(year=2017, startM=2, startD=20, w=0, note=""):
    # w=0 表示課程排在星期一
    # startM 表示開學月份, startD 表示開學日
    # note 為課程初始告示
    # default calendar MONDAY is the first day of the week
    # 每學期共有 18 週
    totalW = 18
    count = 0
    # output = "2017 Spring 2bCD (三) 08:10-12:00 各週上課日期: "
    output = note + html.BR()
    # 若必須全年搜尋則 7 改為 12, 但是因為只有 18 週, 因此邏輯要修改讓程式較快結束
    for month in range(startM, 7):
        monthArray = calendar.monthcalendar(2017, month)
        for week in range(len(monthArray)):
            weekArray = monthArray[week]
            # 只需要列出星期 (w+1)
            if weekArray[w] != 0:
                if month == startM:
                    if weekArray[startM] &gt; startD:
                        count += 1
                        if count &lt;= totalW:
                            if month == 3 and weekArray[w] == 31:
                                output += "w"+str(count)+"-"+ str(month)+ "/" + str(weekArray[w]) + "(放假), "
                            else:
                                output += "w"+str(count)+"-"+ str(month)+ "/" + str(weekArray[w]) + ", "
                else:
                    count += 1
                    if count &lt;=  totalW:
                        if month == 3 and weekArray[w] == 31:
                            output += "w"+str(count)+"-"+ str(month)+ "/" + str(weekArray[w]) + "(放假), "
                        else:
                            output += "w"+str(count)+"-"+ str(month)+ "/" + str(weekArray[w]) + ", "
    cal2 &lt;= output

# 2b 協同產品設計實習 (三 w=2)
getClassdate(year=2017, startM=2, startD=20, w=2, note="2017 Spring 2bCD (三) 08:10-12:00 各週上課日期: ")
cal2 &lt;= html.BR() + html.BR()
# 2a 協同產品設計實習 (四 w=3)
getClassdate(year=2017, startM=2, startD=20, w=3, note="2017 Spring 2aCD (四) 08:10-12:00 各週上課日期: ")
cal2 &lt;= html.BR() + html.BR()
# 1a 網際內容管理 (五 w=4)
getClassdate(year=2017, startM=2, startD=20, w=4, note="2017 Spring 1aWCM (五) 13:20-16:10 各週上課日期: ")
cal2 &lt;= html.BR() + html.BR()
# VE1a 網際內容管理 (五 w=4)
getClassdate(year=2017, startM=2, startD=20, w=4, note="2017 Spring VE1aCP (五) 18:30-20:00 各週上課日期: ")
cal2 &lt;= html.BR() + html.BR()
&lt;/script&gt;
&lt;/pre&gt;

&lt;h3&gt;利用伺服器執行 Python3 程式&lt;/h3&gt;
&lt;p&gt;Jupyterhub: &lt;a href="https://8888.kmol.info:9443"&gt;https://8888.kmol.info:9443&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;利用以下的編輯器執行 Python3 程式&lt;/h3&gt;
&lt;p&gt;在 Firefox 中, 以 Preferences - General - Downloads 選擇"Always ask me where to save files"&lt;/p&gt;
&lt;p&gt;在 Chrome 中, 以 Settings - Advanced - Downloads 選擇 Ask where to save each file before downloading&lt;/p&gt;
&lt;script src="./../ace/ace.js" type="text/javascript" charset="utf-8"&gt;&lt;/script&gt;

&lt;script src="./../ace/ext-language_tools.js" type="text/javascript" charset="utf-8"&gt;&lt;/script&gt;

&lt;script src="./../ace/mode-python3.js" type="text/javascript" charset="utf-8"&gt;&lt;/script&gt;

&lt;script src="./../ace/snippets/python.js" type="text/javascript" charset="utf-8"&gt;&lt;/script&gt;

&lt;!-- 請注意, 這裡使用 Javascript 將 localStorage["py_src"] 中存在近端瀏覽器的程式碼, 由使用者決定存檔名稱--&gt;

&lt;script type="text/javascript"&gt;
function doSave(){
    var blob = new Blob([localStorage["py_src"]], {type: "text/plain;charset=utf-8"});
    filename = document.getElementById('filename').value
    saveAs(blob, filename+".py");
}
&lt;/script&gt;

&lt;script type="text/python3" id="script1"&gt;
import sys
import time
import traceback
import javascript

from browser import document as doc, window, alert

has_ace = True
try:
    editor = window.ace.edit("editor")
    session = editor.getSession()
    session.setMode("ace/mode/python")

    editor.setOptions({
     'enableLiveAutocompletion': True,
     'enableSnippets': True,
     'highlightActiveLine': False,
     'highlightSelectedWord': True
    })
except:
    from browser import html
    editor = html.TEXTAREA(rows=20, cols=70)
    doc["editor"] &lt;= editor
    def get_value(): return editor.value
    def set_value(x):editor.value = x
    editor.getValue = get_value
    editor.setValue = set_value
    has_ace = False

if hasattr(window, 'localStorage'):
    from browser.local_storage import storage
else:
    storage = None

def reset_src():
    if storage is not None and "py_src" in storage:
        editor.setValue(storage["py_src"])
    else:
        editor.setValue('for i in range(10):\n\tprint(i)')
    editor.scrollToRow(0)
    editor.gotoLine(0)

def reset_src_area():
    if storage and "py_src" in storage:
        editor.value = storage["py_src"]
    else:
        editor.value = 'for i in range(10):\n\tprint(i)'

class cOutput:

    def __init__(self,target):
        self.target = doc[target]
    def write(self,data):
        self.target.value += str(data)


#if "console" in doc:
sys.stdout = cOutput("console")
sys.stderr = cOutput("console")

def to_str(xx):
    return str(xx)

info = sys.implementation.version
doc['version'].text = 'Brython %s.%s.%s' % (info.major, info.minor, info.micro)

output = ''

def show_console(ev):
    doc["console"].value = output
    doc["console"].cols = 60
    doc["console"].rows = 10

# load a Python script
def load_script(evt):
    _name = evt.target.value + '?foo=%s' % time.time()
    editor.setValue(open(_name).read())

# run a script, in global namespace if in_globals is True
def run(*args):
    global output
    doc["console"].value = ''
    src = editor.getValue()
    if storage is not None:
       storage["py_src"] = src

    t0 = time.perf_counter()
    try:
        #ns = {'__name__':'__main__'}
        ns = {'__name__':'editor'}
        exec(src, ns)
        state = 1
    except Exception as exc:
        traceback.print_exc(file=sys.stderr)
        state = 0
    output = doc["console"].value

    print('&lt;completed in %6.2f ms&gt;' % ((time.perf_counter() - t0) * 1000.0))
    return state

if has_ace:
    reset_src()
else:
    reset_src_area()

def clear_console(ev):
    doc["console"].value = ""

doc['run'].bind('click',run)
doc['show_console'].bind('click',show_console)
doc['clear_console'].bind('click',clear_console)
&lt;/script&gt;

&lt;div id="version"&gt;&lt;/div&gt;

&lt;div id="editor" style="width:600px;height:300px;"&gt;&lt;/div&gt;

&lt;!-- 以下的表單與按鈕與前面的 Javascript doSave 函式以及 FileSaver.min.js 互相配合 --&gt;

&lt;form&gt;
    &lt;label&gt;Filename: &lt;input type="text" id="filename" placeholder="input file name"/&gt;.py&lt;/label&gt;
    &lt;input type="submit" value="Save" onclick="doSave();"/&gt;
&lt;/form&gt;

&lt;p&gt;&lt;button id="run"&gt;Run&lt;/button&gt;
&lt;button id="show_console"&gt;Output&lt;/button&gt;
&lt;button id="clear_console"&gt;清除&lt;/button&gt;
&lt;div style="width:100%;height:100%;"&gt;
&lt;textarea id="console" autocomplete="off"&gt;&lt;/textarea&gt;
&lt;/div&gt;
&lt;div id="common"&gt;&lt;/div&gt;&lt;/p&gt;
&lt;script type="text/python3"&gt;
from browser import document as doc
import script1

def ex1(ev):
    script1.editor.setValue('''#ex1 簡單的 for 迴圈範例
    for i in range(10):
        print(i)
    ''')
    script1.editor.scrollToRow(0)
    script1.editor.gotoLine(0)
doc['ex1'].bind('click',ex1)
&lt;/script&gt;

&lt;p&gt;&lt;a id="ex1"&gt;ex1&lt;/a&gt;-for 迴圈&lt;/p&gt;
&lt;script type="text/python3"&gt;
from browser import document as doc
import script1

def ex2(ev):
    script1.editor.setValue('''#溫度轉換程式
from browser import document as doc

# 因為此函式與滑鼠互動, 需要 event 當作輸入
def convTemp():
    mystring = ""
    cdegree = input("請輸入攝氏溫度:")
    fdegree = float(cdegree)*9/5 + 32
    output_string = "攝氏 " + str(cdegree) + "度=華氏 " + str(fdegree) + "度" 
    # 利用 print() 將轉換結果送到 console 區
    print(output_string)

#直接呼叫 convTemp() 執行
convTemp()
    ''')
    script1.editor.scrollToRow(0)
    script1.editor.gotoLine(0)
doc['ex2'].bind('click',ex2)
&lt;/script&gt;

&lt;p&gt;&lt;a id="ex2"&gt;ex2&lt;/a&gt;-溫度換算&lt;/p&gt;
&lt;script type="text/python3"&gt;
from browser import document
import script1

def get_file(e):
    data = open("./../python_ex/for1.py").read()
    script1.editor.setValue(data)
    script1.editor.scrollToRow(0)
    script1.editor.gotoLine(0)

document["get"].bind("click", get_file)
&lt;/script&gt;

&lt;script type="text/python3"&gt;
from browser import document
import script1

def get_temp1(e):
    data = open("./../python_ex/temp1.py").read()
    script1.editor.setValue(data)
    script1.editor.scrollToRow(0)
    script1.editor.gotoLine(0)

document["get_temp1"].bind("click", get_temp1)
&lt;/script&gt;

&lt;script type="text/python3"&gt;
from browser import document
import script1

def get_ver_and_kw(e):
    data = open("./../python_ex/ver_and_kw.py").read()
    script1.editor.setValue(data)
    script1.editor.scrollToRow(0)
    script1.editor.gotoLine(0)

document["get_ver_and_kw"].bind("click", get_ver_and_kw)
&lt;/script&gt;

&lt;p&gt;&lt;button id="get"&gt;for1.py&lt;/button&gt;&lt;button id="get_temp1"&gt;temp1.py&lt;/button&gt;&lt;button id="get_ver_and_kw"&gt;ver_and_kw.py&lt;/button&gt;&lt;/p&gt;</summary><category term="brython"></category><category term="w1"></category></entry></feed>